
var __cov_8bK2UEWK2s5j3uxlyQArDA = (Function('return this'))();
if (!__cov_8bK2UEWK2s5j3uxlyQArDA.__coverage__) { __cov_8bK2UEWK2s5j3uxlyQArDA.__coverage__ = {}; }
__cov_8bK2UEWK2s5j3uxlyQArDA = __cov_8bK2UEWK2s5j3uxlyQArDA.__coverage__;
if (!(__cov_8bK2UEWK2s5j3uxlyQArDA['app/components/tasks/admin/distributions/create.js'])) {
   __cov_8bK2UEWK2s5j3uxlyQArDA['app/components/tasks/admin/distributions/create.js'] = {"path":"app/components/tasks/admin/distributions/create.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":46,"loc":{"start":{"line":46,"column":17},"end":{"line":46,"column":36}}},"2":{"name":"(anonymous_2)","line":60,"loc":{"start":{"line":60,"column":5},"end":{"line":60,"column":28}}},"3":{"name":"(anonymous_3)","line":84,"loc":{"start":{"line":84,"column":20},"end":{"line":84,"column":34}}},"4":{"name":"(anonymous_4)","line":100,"loc":{"start":{"line":100,"column":21},"end":{"line":100,"column":36}}},"5":{"name":"(anonymous_5)","line":119,"loc":{"start":{"line":119,"column":19},"end":{"line":119,"column":35}}},"6":{"name":"(anonymous_6)","line":133,"loc":{"start":{"line":133,"column":29},"end":{"line":133,"column":40}}},"7":{"name":"(anonymous_7)","line":149,"loc":{"start":{"line":149,"column":29},"end":{"line":149,"column":40}}},"8":{"name":"(anonymous_8)","line":168,"loc":{"start":{"line":168,"column":29},"end":{"line":168,"column":40}}},"9":{"name":"(anonymous_9)","line":199,"loc":{"start":{"line":199,"column":30},"end":{"line":199,"column":41}}},"10":{"name":"(anonymous_10)","line":202,"loc":{"start":{"line":202,"column":27},"end":{"line":202,"column":45}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":43,"column":1}},"2":{"start":{"line":46,"column":0},"end":{"line":219,"column":2}},"3":{"start":{"line":47,"column":2},"end":{"line":51,"column":3}},"4":{"start":{"line":53,"column":2},"end":{"line":217,"column":3}},"5":{"start":{"line":55,"column":4},"end":{"line":57,"column":5}},"6":{"start":{"line":60,"column":4},"end":{"line":216,"column":21}},"7":{"start":{"line":62,"column":6},"end":{"line":81,"column":7}},"8":{"start":{"line":84,"column":6},"end":{"line":116,"column":8}},"9":{"start":{"line":85,"column":8},"end":{"line":99,"column":9}},"10":{"start":{"line":100,"column":8},"end":{"line":114,"column":11}},"11":{"start":{"line":101,"column":10},"end":{"line":105,"column":11}},"12":{"start":{"line":106,"column":10},"end":{"line":113,"column":11}},"13":{"start":{"line":107,"column":12},"end":{"line":112,"column":13}},"14":{"start":{"line":108,"column":14},"end":{"line":108,"column":58}},"15":{"start":{"line":111,"column":14},"end":{"line":111,"column":75}},"16":{"start":{"line":115,"column":8},"end":{"line":115,"column":21}},"17":{"start":{"line":119,"column":6},"end":{"line":130,"column":8}},"18":{"start":{"line":120,"column":8},"end":{"line":120,"column":27}},"19":{"start":{"line":121,"column":8},"end":{"line":128,"column":9}},"20":{"start":{"line":122,"column":10},"end":{"line":127,"column":11}},"21":{"start":{"line":123,"column":12},"end":{"line":123,"column":49}},"22":{"start":{"line":126,"column":12},"end":{"line":126,"column":56}},"23":{"start":{"line":129,"column":8},"end":{"line":129,"column":25}},"24":{"start":{"line":133,"column":6},"end":{"line":146,"column":9}},"25":{"start":{"line":134,"column":8},"end":{"line":137,"column":9}},"26":{"start":{"line":138,"column":8},"end":{"line":145,"column":9}},"27":{"start":{"line":148,"column":6},"end":{"line":196,"column":7}},"28":{"start":{"line":149,"column":8},"end":{"line":165,"column":11}},"29":{"start":{"line":150,"column":10},"end":{"line":154,"column":11}},"30":{"start":{"line":155,"column":10},"end":{"line":157,"column":11}},"31":{"start":{"line":158,"column":10},"end":{"line":160,"column":11}},"32":{"start":{"line":161,"column":10},"end":{"line":163,"column":11}},"33":{"start":{"line":164,"column":10},"end":{"line":164,"column":59}},"34":{"start":{"line":167,"column":11},"end":{"line":196,"column":7}},"35":{"start":{"line":168,"column":8},"end":{"line":195,"column":11}},"36":{"start":{"line":169,"column":10},"end":{"line":175,"column":11}},"37":{"start":{"line":176,"column":10},"end":{"line":178,"column":11}},"38":{"start":{"line":179,"column":10},"end":{"line":181,"column":11}},"39":{"start":{"line":182,"column":10},"end":{"line":184,"column":11}},"40":{"start":{"line":185,"column":10},"end":{"line":187,"column":11}},"41":{"start":{"line":188,"column":10},"end":{"line":190,"column":11}},"42":{"start":{"line":191,"column":10},"end":{"line":193,"column":11}},"43":{"start":{"line":194,"column":10},"end":{"line":194,"column":87}},"44":{"start":{"line":199,"column":6},"end":{"line":210,"column":9}},"45":{"start":{"line":200,"column":8},"end":{"line":209,"column":9}},"46":{"start":{"line":203,"column":12},"end":{"line":205,"column":13}},"47":{"start":{"line":204,"column":14},"end":{"line":204,"column":40}},"48":{"start":{"line":206,"column":12},"end":{"line":206,"column":27}},"49":{"start":{"line":212,"column":6},"end":{"line":212,"column":30}},"50":{"start":{"line":213,"column":6},"end":{"line":213,"column":28}},"51":{"start":{"line":214,"column":6},"end":{"line":214,"column":31}},"52":{"start":{"line":218,"column":2},"end":{"line":218,"column":31}}},"branchMap":{"1":{"line":86,"type":"binary-expr","locations":[{"start":{"line":86,"column":18},"end":{"line":86,"column":21}},{"start":{"line":86,"column":25},"end":{"line":86,"column":42}}]},"2":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":10},"end":{"line":106,"column":10}},{"start":{"line":106,"column":10},"end":{"line":106,"column":10}}]},"3":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":12},"end":{"line":107,"column":12}},{"start":{"line":107,"column":12},"end":{"line":107,"column":12}}]},"4":{"line":107,"type":"binary-expr","locations":[{"start":{"line":107,"column":15},"end":{"line":107,"column":19}},{"start":{"line":107,"column":23},"end":{"line":107,"column":41}}]},"5":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":10},"end":{"line":122,"column":10}},{"start":{"line":122,"column":10},"end":{"line":122,"column":10}}]},"6":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":6},"end":{"line":148,"column":6}},{"start":{"line":148,"column":6},"end":{"line":148,"column":6}}]},"7":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":11},"end":{"line":167,"column":11}},{"start":{"line":167,"column":11},"end":{"line":167,"column":11}}]},"8":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":12},"end":{"line":203,"column":12}},{"start":{"line":203,"column":12},"end":{"line":203,"column":12}}]}}};
}
__cov_8bK2UEWK2s5j3uxlyQArDA = __cov_8bK2UEWK2s5j3uxlyQArDA['app/components/tasks/admin/distributions/create.js'];
__cov_8bK2UEWK2s5j3uxlyQArDA.s['1']++;var gulp=require('gulp'),console=require('better-console'),del=require('del'),fs=require('fs'),path=require('path'),runSequence=require('run-sequence'),mergeStream=require('merge-stream'),concatFileNames=require('gulp-concat-filenames'),debug=require('gulp-debug'),flatten=require('gulp-flatten'),git=require('gulp-git'),jsonEditor=require('gulp-json-editor'),plumber=require('gulp-plumber'),rename=require('gulp-rename'),replace=require('gulp-replace'),tap=require('gulp-tap'),config=require('../../config/user'),release=require('../../config/admin/release'),project=require('../../config/project/release'),version=project.version,output=config.paths.output;__cov_8bK2UEWK2s5j3uxlyQArDA.s['2']++;module.exports=function(callback){__cov_8bK2UEWK2s5j3uxlyQArDA.f['1']++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['3']++;var stream,index,tasks=[];__cov_8bK2UEWK2s5j3uxlyQArDA.s['4']++;for(index in release.distributions){__cov_8bK2UEWK2s5j3uxlyQArDA.s['5']++;var distribution=release.distributions[index];__cov_8bK2UEWK2s5j3uxlyQArDA.s['6']++;(function(distribution){__cov_8bK2UEWK2s5j3uxlyQArDA.f['2']++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['7']++;var distLowerCase=distribution.toLowerCase(),outputDirectory=path.join(release.outputRoot,distLowerCase),packageFile=path.join(outputDirectory,release.files.npm),repoName=release.distRepoRoot+distribution,regExp={match:{files:'{files}',version:'{version}'}},task={all:distribution+' copying files',repo:distribution+' create repo',meteor:distribution+' create meteor package.js',package:distribution+' create package.json'},gatherFiles,createList;__cov_8bK2UEWK2s5j3uxlyQArDA.s['8']++;gatherFiles=function(dir){__cov_8bK2UEWK2s5j3uxlyQArDA.f['3']++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['9']++;var dir=(__cov_8bK2UEWK2s5j3uxlyQArDA.b['1'][0]++,dir)||(__cov_8bK2UEWK2s5j3uxlyQArDA.b['1'][1]++,path.resolve('.')),list=fs.readdirSync(dir),omitted=['.git','node_modules','package.js','LICENSE','README.md','package.json','bower.json','.gitignore'],files=[];__cov_8bK2UEWK2s5j3uxlyQArDA.s['10']++;list.forEach(function(file){__cov_8bK2UEWK2s5j3uxlyQArDA.f['4']++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['11']++;var isOmitted=omitted.indexOf(file)>-1,filePath=path.join(dir,file),stat=fs.statSync(filePath);__cov_8bK2UEWK2s5j3uxlyQArDA.s['12']++;if(!isOmitted){__cov_8bK2UEWK2s5j3uxlyQArDA.b['2'][0]++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['13']++;if((__cov_8bK2UEWK2s5j3uxlyQArDA.b['4'][0]++,stat)&&(__cov_8bK2UEWK2s5j3uxlyQArDA.b['4'][1]++,stat.isDirectory())){__cov_8bK2UEWK2s5j3uxlyQArDA.b['3'][0]++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['14']++;files=files.concat(gatherFiles(filePath));}else{__cov_8bK2UEWK2s5j3uxlyQArDA.b['3'][1]++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['15']++;files.push(filePath.replace(outputDirectory+path.sep,''));}}else{__cov_8bK2UEWK2s5j3uxlyQArDA.b['2'][1]++;}});__cov_8bK2UEWK2s5j3uxlyQArDA.s['16']++;return files;};__cov_8bK2UEWK2s5j3uxlyQArDA.s['17']++;createList=function(files){__cov_8bK2UEWK2s5j3uxlyQArDA.f['5']++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['18']++;var filenames='';__cov_8bK2UEWK2s5j3uxlyQArDA.s['19']++;for(var file in files){__cov_8bK2UEWK2s5j3uxlyQArDA.s['20']++;if(file==files.length-1){__cov_8bK2UEWK2s5j3uxlyQArDA.b['5'][0]++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['21']++;filenames+='\''+files[file]+'\'';}else{__cov_8bK2UEWK2s5j3uxlyQArDA.b['5'][1]++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['22']++;filenames+='\''+files[file]+'\',\n    ';}}__cov_8bK2UEWK2s5j3uxlyQArDA.s['23']++;return filenames;};__cov_8bK2UEWK2s5j3uxlyQArDA.s['24']++;gulp.task(task.meteor,function(){__cov_8bK2UEWK2s5j3uxlyQArDA.f['6']++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['25']++;var files=gatherFiles(outputDirectory),filenames=createList(files);__cov_8bK2UEWK2s5j3uxlyQArDA.s['26']++;gulp.src(release.templates.meteor[distLowerCase]).pipe(plumber()).pipe(flatten()).pipe(replace(regExp.match.version,version)).pipe(replace(regExp.match.files,filenames)).pipe(rename(release.files.meteor)).pipe(gulp.dest(outputDirectory));});__cov_8bK2UEWK2s5j3uxlyQArDA.s['27']++;if(distribution=='CSS'){__cov_8bK2UEWK2s5j3uxlyQArDA.b['6'][0]++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['28']++;gulp.task(task.repo,function(){__cov_8bK2UEWK2s5j3uxlyQArDA.f['7']++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['29']++;var themes,components,releases;__cov_8bK2UEWK2s5j3uxlyQArDA.s['30']++;themes=gulp.src('dist/themes/default/**/*',{base:'dist/'}).pipe(gulp.dest(outputDirectory));__cov_8bK2UEWK2s5j3uxlyQArDA.s['31']++;components=gulp.src('dist/components/*',{base:'dist/'}).pipe(gulp.dest(outputDirectory));__cov_8bK2UEWK2s5j3uxlyQArDA.s['32']++;releases=gulp.src('dist/*',{base:'dist/'}).pipe(gulp.dest(outputDirectory));__cov_8bK2UEWK2s5j3uxlyQArDA.s['33']++;return mergeStream(themes,components,releases);});}else{__cov_8bK2UEWK2s5j3uxlyQArDA.b['6'][1]++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['34']++;if(distribution=='LESS'){__cov_8bK2UEWK2s5j3uxlyQArDA.b['7'][0]++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['35']++;gulp.task(task.repo,function(){__cov_8bK2UEWK2s5j3uxlyQArDA.f['8']++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['36']++;var definitions,themeImport,themeConfig,siteTheme,themes;__cov_8bK2UEWK2s5j3uxlyQArDA.s['37']++;definitions=gulp.src('src/definitions/**/*',{base:'src/'}).pipe(gulp.dest(outputDirectory));__cov_8bK2UEWK2s5j3uxlyQArDA.s['38']++;themeImport=gulp.src('src/semantic.less',{base:'src/'}).pipe(gulp.dest(outputDirectory));__cov_8bK2UEWK2s5j3uxlyQArDA.s['39']++;themeImport=gulp.src('src/theme.less',{base:'src/'}).pipe(gulp.dest(outputDirectory));__cov_8bK2UEWK2s5j3uxlyQArDA.s['40']++;themeConfig=gulp.src('src/theme.config.example',{base:'src/'}).pipe(gulp.dest(outputDirectory));__cov_8bK2UEWK2s5j3uxlyQArDA.s['41']++;siteTheme=gulp.src('src/_site/**/*',{base:'src/'}).pipe(gulp.dest(outputDirectory));__cov_8bK2UEWK2s5j3uxlyQArDA.s['42']++;themes=gulp.src('src/themes/**/*',{base:'src/'}).pipe(gulp.dest(outputDirectory));__cov_8bK2UEWK2s5j3uxlyQArDA.s['43']++;return mergeStream(definitions,themeImport,themeConfig,siteTheme,themes);});}else{__cov_8bK2UEWK2s5j3uxlyQArDA.b['7'][1]++;}}__cov_8bK2UEWK2s5j3uxlyQArDA.s['44']++;gulp.task(task.package,function(){__cov_8bK2UEWK2s5j3uxlyQArDA.f['9']++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['45']++;return gulp.src(packageFile).pipe(plumber()).pipe(jsonEditor(function(package){__cov_8bK2UEWK2s5j3uxlyQArDA.f['10']++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['46']++;if(version){__cov_8bK2UEWK2s5j3uxlyQArDA.b['8'][0]++;__cov_8bK2UEWK2s5j3uxlyQArDA.s['47']++;package.version=version;}else{__cov_8bK2UEWK2s5j3uxlyQArDA.b['8'][1]++;}__cov_8bK2UEWK2s5j3uxlyQArDA.s['48']++;return package;})).pipe(gulp.dest(outputDirectory));});__cov_8bK2UEWK2s5j3uxlyQArDA.s['49']++;tasks.push(task.meteor);__cov_8bK2UEWK2s5j3uxlyQArDA.s['50']++;tasks.push(task.repo);__cov_8bK2UEWK2s5j3uxlyQArDA.s['51']++;tasks.push(task.package);}(distribution));}__cov_8bK2UEWK2s5j3uxlyQArDA.s['52']++;runSequence(tasks,callback);};
