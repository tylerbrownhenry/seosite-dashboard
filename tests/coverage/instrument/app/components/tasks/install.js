
var __cov_zNqsOx3eL0yDrTHN9iqUJA = (Function('return this'))();
if (!__cov_zNqsOx3eL0yDrTHN9iqUJA.__coverage__) { __cov_zNqsOx3eL0yDrTHN9iqUJA.__coverage__ = {}; }
__cov_zNqsOx3eL0yDrTHN9iqUJA = __cov_zNqsOx3eL0yDrTHN9iqUJA.__coverage__;
if (!(__cov_zNqsOx3eL0yDrTHN9iqUJA['app/components/tasks/install.js'])) {
   __cov_zNqsOx3eL0yDrTHN9iqUJA['app/components/tasks/install.js'] = {"path":"app/components/tasks/install.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":58,"loc":{"start":{"line":58,"column":17},"end":{"line":58,"column":37}}},"2":{"name":"(anonymous_2)","line":192,"loc":{"start":{"line":192,"column":23},"end":{"line":192,"column":34}}},"3":{"name":"(anonymous_3)","line":206,"loc":{"start":{"line":206,"column":43},"end":{"line":206,"column":66}}},"4":{"name":"(anonymous_4)","line":214,"loc":{"start":{"line":214,"column":34},"end":{"line":214,"column":53}}},"5":{"name":"(anonymous_5)","line":349,"loc":{"start":{"line":349,"column":35},"end":{"line":349,"column":46}}},"6":{"name":"(anonymous_6)","line":383,"loc":{"start":{"line":383,"column":36},"end":{"line":383,"column":47}}},"7":{"name":"(anonymous_7)","line":419,"loc":{"start":{"line":419,"column":30},"end":{"line":419,"column":41}}},"8":{"name":"(anonymous_8)","line":438,"loc":{"start":{"line":438,"column":45},"end":{"line":438,"column":63}}}},"statementMap":{"1":{"start":{"line":17,"column":0},"end":{"line":55,"column":1}},"2":{"start":{"line":58,"column":0},"end":{"line":459,"column":2}},"3":{"start":{"line":60,"column":0},"end":{"line":66,"column":1}},"4":{"start":{"line":68,"column":0},"end":{"line":68,"column":16}},"5":{"start":{"line":79,"column":0},"end":{"line":82,"column":1}},"6":{"start":{"line":80,"column":2},"end":{"line":80,"column":65}},"7":{"start":{"line":81,"column":2},"end":{"line":81,"column":9}},"8":{"start":{"line":89,"column":0},"end":{"line":164,"column":1}},"9":{"start":{"line":91,"column":2},"end":{"line":102,"column":3}},"10":{"start":{"line":105,"column":2},"end":{"line":162,"column":3}},"11":{"start":{"line":108,"column":4},"end":{"line":156,"column":5}},"12":{"start":{"line":109,"column":6},"end":{"line":109,"column":99}},"13":{"start":{"line":111,"column":6},"end":{"line":111,"column":49}},"14":{"start":{"line":112,"column":6},"end":{"line":112,"column":105}},"15":{"start":{"line":114,"column":6},"end":{"line":114,"column":48}},"16":{"start":{"line":115,"column":6},"end":{"line":115,"column":91}},"17":{"start":{"line":116,"column":6},"end":{"line":116,"column":108}},"18":{"start":{"line":118,"column":6},"end":{"line":118,"column":40}},"19":{"start":{"line":119,"column":6},"end":{"line":119,"column":94}},"20":{"start":{"line":121,"column":6},"end":{"line":121,"column":43}},"21":{"start":{"line":122,"column":6},"end":{"line":125,"column":7}},"22":{"start":{"line":128,"column":6},"end":{"line":128,"column":49}},"23":{"start":{"line":129,"column":6},"end":{"line":132,"column":7}},"24":{"start":{"line":134,"column":6},"end":{"line":134,"column":53}},"25":{"start":{"line":135,"column":6},"end":{"line":135,"column":88}},"26":{"start":{"line":137,"column":6},"end":{"line":137,"column":42}},"27":{"start":{"line":140,"column":6},"end":{"line":147,"column":7}},"28":{"start":{"line":149,"column":6},"end":{"line":149,"column":95}},"29":{"start":{"line":151,"column":6},"end":{"line":151,"column":13}},"30":{"start":{"line":154,"column":6},"end":{"line":154,"column":70}},"31":{"start":{"line":155,"column":6},"end":{"line":155,"column":13}},"32":{"start":{"line":160,"column":4},"end":{"line":160,"column":85}},"33":{"start":{"line":161,"column":4},"end":{"line":161,"column":37}},"34":{"start":{"line":171,"column":0},"end":{"line":185,"column":1}},"35":{"start":{"line":172,"column":2},"end":{"line":175,"column":3}},"36":{"start":{"line":177,"column":2},"end":{"line":177,"column":42}},"37":{"start":{"line":178,"column":2},"end":{"line":178,"column":42}},"38":{"start":{"line":181,"column":2},"end":{"line":181,"column":78}},"39":{"start":{"line":184,"column":2},"end":{"line":184,"column":25}},"40":{"start":{"line":192,"column":0},"end":{"line":212,"column":3}},"41":{"start":{"line":195,"column":2},"end":{"line":211,"column":3}},"42":{"start":{"line":196,"column":4},"end":{"line":201,"column":6}},"43":{"start":{"line":204,"column":4},"end":{"line":210,"column":5}},"44":{"start":{"line":208,"column":8},"end":{"line":208,"column":31}},"45":{"start":{"line":214,"column":0},"end":{"line":417,"column":3}},"46":{"start":{"line":221,"column":2},"end":{"line":223,"column":3}},"47":{"start":{"line":222,"column":4},"end":{"line":222,"column":11}},"48":{"start":{"line":224,"column":2},"end":{"line":224,"column":18}},"49":{"start":{"line":225,"column":2},"end":{"line":230,"column":3}},"50":{"start":{"line":226,"column":4},"end":{"line":226,"column":62}},"51":{"start":{"line":229,"column":4},"end":{"line":229,"column":30}},"52":{"start":{"line":231,"column":2},"end":{"line":231,"column":48}},"53":{"start":{"line":238,"column":2},"end":{"line":246,"column":3}},"54":{"start":{"line":253,"column":2},"end":{"line":329,"column":3}},"55":{"start":{"line":256,"column":4},"end":{"line":262,"column":5}},"56":{"start":{"line":257,"column":6},"end":{"line":260,"column":7}},"57":{"start":{"line":258,"column":8},"end":{"line":258,"column":63}},"58":{"start":{"line":259,"column":8},"end":{"line":259,"column":15}},"59":{"start":{"line":261,"column":6},"end":{"line":261,"column":40}},"60":{"start":{"line":265,"column":4},"end":{"line":272,"column":7}},"61":{"start":{"line":275,"column":4},"end":{"line":275,"column":66}},"62":{"start":{"line":278,"column":4},"end":{"line":286,"column":5}},"63":{"start":{"line":279,"column":6},"end":{"line":285,"column":7}},"64":{"start":{"line":281,"column":8},"end":{"line":284,"column":9}},"65":{"start":{"line":289,"column":4},"end":{"line":297,"column":5}},"66":{"start":{"line":290,"column":6},"end":{"line":290,"column":33}},"67":{"start":{"line":291,"column":6},"end":{"line":291,"column":43}},"68":{"start":{"line":292,"column":6},"end":{"line":292,"column":38}},"69":{"start":{"line":293,"column":6},"end":{"line":293,"column":38}},"70":{"start":{"line":296,"column":6},"end":{"line":296,"column":155}},"71":{"start":{"line":299,"column":4},"end":{"line":299,"column":77}},"72":{"start":{"line":301,"column":4},"end":{"line":301,"column":43}},"73":{"start":{"line":302,"column":4},"end":{"line":302,"column":104}},"74":{"start":{"line":304,"column":4},"end":{"line":304,"column":38}},"75":{"start":{"line":305,"column":4},"end":{"line":305,"column":90}},"76":{"start":{"line":306,"column":4},"end":{"line":306,"column":107}},"77":{"start":{"line":308,"column":4},"end":{"line":308,"column":39}},"78":{"start":{"line":309,"column":4},"end":{"line":309,"column":93}},"79":{"start":{"line":312,"column":4},"end":{"line":312,"column":39}},"80":{"start":{"line":313,"column":4},"end":{"line":316,"column":5}},"81":{"start":{"line":317,"column":4},"end":{"line":320,"column":5}},"82":{"start":{"line":323,"column":4},"end":{"line":323,"column":41}},"83":{"start":{"line":324,"column":4},"end":{"line":327,"column":5}},"84":{"start":{"line":337,"column":2},"end":{"line":342,"column":3}},"85":{"start":{"line":338,"column":4},"end":{"line":338,"column":88}},"86":{"start":{"line":341,"column":4},"end":{"line":341,"column":66}},"87":{"start":{"line":343,"column":2},"end":{"line":343,"column":85}},"88":{"start":{"line":349,"column":2},"end":{"line":377,"column":5}},"89":{"start":{"line":350,"column":4},"end":{"line":355,"column":5}},"90":{"start":{"line":358,"column":4},"end":{"line":358,"column":65}},"91":{"start":{"line":360,"column":4},"end":{"line":376,"column":5}},"92":{"start":{"line":361,"column":6},"end":{"line":361,"column":89}},"93":{"start":{"line":362,"column":6},"end":{"line":366,"column":7}},"94":{"start":{"line":369,"column":6},"end":{"line":369,"column":88}},"95":{"start":{"line":370,"column":6},"end":{"line":375,"column":7}},"96":{"start":{"line":383,"column":2},"end":{"line":409,"column":5}},"97":{"start":{"line":385,"column":4},"end":{"line":387,"column":5}},"98":{"start":{"line":390,"column":4},"end":{"line":407,"column":5}},"99":{"start":{"line":391,"column":6},"end":{"line":391,"column":81}},"100":{"start":{"line":392,"column":6},"end":{"line":397,"column":7}},"101":{"start":{"line":400,"column":6},"end":{"line":400,"column":80}},"102":{"start":{"line":401,"column":6},"end":{"line":406,"column":7}},"103":{"start":{"line":411,"column":2},"end":{"line":415,"column":4}},"104":{"start":{"line":419,"column":0},"end":{"line":450,"column":3}},"105":{"start":{"line":422,"column":2},"end":{"line":429,"column":3}},"106":{"start":{"line":423,"column":4},"end":{"line":423,"column":241}},"107":{"start":{"line":424,"column":4},"end":{"line":424,"column":20}},"108":{"start":{"line":427,"column":4},"end":{"line":427,"column":20}},"109":{"start":{"line":428,"column":4},"end":{"line":428,"column":20}},"110":{"start":{"line":432,"column":2},"end":{"line":447,"column":3}},"111":{"start":{"line":433,"column":4},"end":{"line":433,"column":31}},"112":{"start":{"line":436,"column":4},"end":{"line":446,"column":5}},"113":{"start":{"line":439,"column":8},"end":{"line":441,"column":9}},"114":{"start":{"line":440,"column":10},"end":{"line":440,"column":34}},"115":{"start":{"line":442,"column":8},"end":{"line":444,"column":9}},"116":{"start":{"line":443,"column":10},"end":{"line":443,"column":30}},"117":{"start":{"line":452,"column":0},"end":{"line":457,"column":2}}},"branchMap":{"1":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":0},"end":{"line":79,"column":0}},{"start":{"line":79,"column":0},"end":{"line":79,"column":0}}]},"2":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":0},"end":{"line":89,"column":0}},{"start":{"line":89,"column":0},"end":{"line":89,"column":0}}]},"3":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":3},"end":{"line":89,"column":16}},{"start":{"line":89,"column":20},"end":{"line":89,"column":42}}]},"4":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":2},"end":{"line":105,"column":2}},{"start":{"line":105,"column":2},"end":{"line":105,"column":2}}]},"5":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":4},"end":{"line":108,"column":4}},{"start":{"line":108,"column":4},"end":{"line":108,"column":4}}]},"6":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":0},"end":{"line":171,"column":0}},{"start":{"line":171,"column":0},"end":{"line":171,"column":0}}]},"7":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":2},"end":{"line":195,"column":2}},{"start":{"line":195,"column":2},"end":{"line":195,"column":2}}]},"8":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":2},"end":{"line":221,"column":2}},{"start":{"line":221,"column":2},"end":{"line":221,"column":2}}]},"9":{"line":221,"type":"binary-expr","locations":[{"start":{"line":221,"column":5},"end":{"line":221,"column":36}},{"start":{"line":221,"column":40},"end":{"line":221,"column":65}}]},"10":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":2},"end":{"line":225,"column":2}},{"start":{"line":225,"column":2},"end":{"line":225,"column":2}}]},"11":{"line":242,"type":"binary-expr","locations":[{"start":{"line":242,"column":26},"end":{"line":242,"column":38}},{"start":{"line":242,"column":42},"end":{"line":242,"column":54}}]},"12":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":2},"end":{"line":253,"column":2}},{"start":{"line":253,"column":2},"end":{"line":253,"column":2}}]},"13":{"line":253,"type":"binary-expr","locations":[{"start":{"line":253,"column":5},"end":{"line":253,"column":12}},{"start":{"line":253,"column":17},"end":{"line":253,"column":32}},{"start":{"line":253,"column":36},"end":{"line":253,"column":54}}]},"14":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":4},"end":{"line":256,"column":4}},{"start":{"line":256,"column":4},"end":{"line":256,"column":4}}]},"15":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":6},"end":{"line":257,"column":6}},{"start":{"line":257,"column":6},"end":{"line":257,"column":6}}]},"16":{"line":279,"type":"if","locations":[{"start":{"line":279,"column":6},"end":{"line":279,"column":6}},{"start":{"line":279,"column":6},"end":{"line":279,"column":6}}]},"17":{"line":281,"type":"cond-expr","locations":[{"start":{"line":282,"column":12},"end":{"line":282,"column":80}},{"start":{"line":283,"column":12},"end":{"line":283,"column":81}}]},"18":{"line":281,"type":"binary-expr","locations":[{"start":{"line":281,"column":37},"end":{"line":281,"column":60}},{"start":{"line":281,"column":64},"end":{"line":281,"column":93}}]},"19":{"line":337,"type":"if","locations":[{"start":{"line":337,"column":2},"end":{"line":337,"column":2}},{"start":{"line":337,"column":2},"end":{"line":337,"column":2}}]},"20":{"line":360,"type":"if","locations":[{"start":{"line":360,"column":4},"end":{"line":360,"column":4}},{"start":{"line":360,"column":4},"end":{"line":360,"column":4}}]},"21":{"line":390,"type":"if","locations":[{"start":{"line":390,"column":4},"end":{"line":390,"column":4}},{"start":{"line":390,"column":4},"end":{"line":390,"column":4}}]},"22":{"line":422,"type":"if","locations":[{"start":{"line":422,"column":2},"end":{"line":422,"column":2}},{"start":{"line":422,"column":2},"end":{"line":422,"column":2}}]},"23":{"line":422,"type":"binary-expr","locations":[{"start":{"line":422,"column":5},"end":{"line":422,"column":18}},{"start":{"line":422,"column":22},"end":{"line":422,"column":50}}]},"24":{"line":432,"type":"if","locations":[{"start":{"line":432,"column":2},"end":{"line":432,"column":2}},{"start":{"line":432,"column":2},"end":{"line":432,"column":2}}]},"25":{"line":439,"type":"if","locations":[{"start":{"line":439,"column":8},"end":{"line":439,"column":8}},{"start":{"line":439,"column":8},"end":{"line":439,"column":8}}]},"26":{"line":442,"type":"if","locations":[{"start":{"line":442,"column":8},"end":{"line":442,"column":8}},{"start":{"line":442,"column":8},"end":{"line":442,"column":8}}]}}};
}
__cov_zNqsOx3eL0yDrTHN9iqUJA = __cov_zNqsOx3eL0yDrTHN9iqUJA['app/components/tasks/install.js'];
__cov_zNqsOx3eL0yDrTHN9iqUJA.s['1']++;var gulp=require('gulp'),console=require('better-console'),extend=require('extend'),fs=require('fs'),mkdirp=require('mkdirp'),path=require('path'),runSequence=require('run-sequence'),chmod=require('gulp-chmod'),del=require('del'),jsonEditor=require('gulp-json-editor'),plumber=require('gulp-plumber'),prompt=require('gulp-prompt'),rename=require('gulp-rename'),replace=require('gulp-replace'),requireDotFile=require('require-dot-file'),wrench=require('wrench-sui'),install=require('./config/project/install'),config=require('./config/user'),release=require('./config/project/release'),questions=install.questions,files=install.files,folders=install.folders,regExp=install.regExp,settings=install.settings,source=install.source;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['2']++;module.exports=function(callback){__cov_zNqsOx3eL0yDrTHN9iqUJA.f['1']++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['3']++;var currentConfig=requireDotFile('semantic.json'),manager=install.getPackageManager(),rootQuestions=questions.root,installFolder=false,answers;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['4']++;console.clear();__cov_zNqsOx3eL0yDrTHN9iqUJA.s['5']++;if(install.isSubModule()){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['1'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['6']++;console.info('SUI is a sub-module, skipping end-user install');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['7']++;return;}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['1'][1]++;}__cov_zNqsOx3eL0yDrTHN9iqUJA.s['8']++;if((__cov_zNqsOx3eL0yDrTHN9iqUJA.b['3'][0]++,currentConfig)&&(__cov_zNqsOx3eL0yDrTHN9iqUJA.b['3'][1]++,manager.name==='NPM')){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['2'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['9']++;var updateFolder=path.join(manager.root,currentConfig.base),updatePaths={config:path.join(manager.root,files.config),tasks:path.join(updateFolder,folders.tasks),themeImport:path.join(updateFolder,folders.themeImport),definition:path.join(currentConfig.paths.source.definitions),site:path.join(currentConfig.paths.source.site),theme:path.join(currentConfig.paths.source.themes),defaultTheme:path.join(currentConfig.paths.source.themes,folders.defaultTheme)};__cov_zNqsOx3eL0yDrTHN9iqUJA.s['10']++;if(fs.existsSync(updatePaths.definition)){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['4'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['11']++;if(currentConfig.version!==release.version){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['5'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['12']++;console.log('Updating Semantic UI from '+currentConfig.version+' to '+release.version);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['13']++;console.info('Updating ui definitions...');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['14']++;wrench.copyDirSyncRecursive(source.definitions,updatePaths.definition,settings.wrench.overwrite);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['15']++;console.info('Updating default theme...');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['16']++;wrench.copyDirSyncRecursive(source.themes,updatePaths.theme,settings.wrench.merge);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['17']++;wrench.copyDirSyncRecursive(source.defaultTheme,updatePaths.defaultTheme,settings.wrench.overwrite);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['18']++;console.info('Updating tasks...');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['19']++;wrench.copyDirSyncRecursive(source.tasks,updatePaths.tasks,settings.wrench.overwrite);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['20']++;console.info('Updating gulpfile.js');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['21']++;gulp.src(source.userGulpFile).pipe(plumber()).pipe(gulp.dest(updateFolder));__cov_zNqsOx3eL0yDrTHN9iqUJA.s['22']++;console.info('Updating theme import file');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['23']++;gulp.src(source.themeImport).pipe(plumber()).pipe(gulp.dest(updatePaths.themeImport));__cov_zNqsOx3eL0yDrTHN9iqUJA.s['24']++;console.info('Adding new site theme files...');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['25']++;wrench.copyDirSyncRecursive(source.site,updatePaths.site,settings.wrench.merge);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['26']++;console.info('Updating version...');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['27']++;gulp.src(updatePaths.config).pipe(plumber()).pipe(rename(settings.rename.json)).pipe(jsonEditor({version:release.version})).pipe(gulp.dest(manager.root));__cov_zNqsOx3eL0yDrTHN9iqUJA.s['28']++;console.info('Update complete! Run "\x1B[92mgulp build\x1B[0m" to rebuild dist/ files.');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['29']++;return;}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['5'][1]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['30']++;console.log('Current version of Semantic UI already installed');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['31']++;return;}}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['4'][1]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['32']++;console.error('Cannot locate files to update at path: ',updatePaths.definition);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['33']++;console.log('Running installer');}}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['2'][1]++;}__cov_zNqsOx3eL0yDrTHN9iqUJA.s['34']++;if(manager.name=='NPM'){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['6'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['35']++;rootQuestions[0].message=rootQuestions[0].message.replace('{packageMessage}','We detected you are using \x1B[92m'+manager.name+'\x1B[0m. Nice! ').replace('{root}',manager.root);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['36']++;rootQuestions[0].default=manager.root;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['37']++;rootQuestions[1].default=manager.root;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['38']++;Array.prototype.splice.apply(questions.setup,[2,0].concat(rootQuestions));__cov_zNqsOx3eL0yDrTHN9iqUJA.s['39']++;questions.cleanup=[];}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['6'][1]++;}__cov_zNqsOx3eL0yDrTHN9iqUJA.s['40']++;gulp.task('run setup',function(){__cov_zNqsOx3eL0yDrTHN9iqUJA.f['2']++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['41']++;if(install.shouldAutoInstall()){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['7'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['42']++;answers={overwrite:'yes',install:'auto',useRoot:true,semanticRoot:currentConfig.base};}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['7'][1]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['43']++;return gulp.src('gulpfile.js').pipe(prompt.prompt(questions.setup,function(setupAnswers){__cov_zNqsOx3eL0yDrTHN9iqUJA.f['3']++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['44']++;answers=setupAnswers;}));}});__cov_zNqsOx3eL0yDrTHN9iqUJA.s['45']++;gulp.task('create install files',function(callback){__cov_zNqsOx3eL0yDrTHN9iqUJA.f['4']++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['46']++;if((__cov_zNqsOx3eL0yDrTHN9iqUJA.b['9'][0]++,answers.overwrite!==undefined)&&(__cov_zNqsOx3eL0yDrTHN9iqUJA.b['9'][1]++,answers.overwrite=='no')){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['8'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['47']++;return;}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['8'][1]++;}__cov_zNqsOx3eL0yDrTHN9iqUJA.s['48']++;console.clear();__cov_zNqsOx3eL0yDrTHN9iqUJA.s['49']++;if(install.shouldAutoInstall()){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['10'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['50']++;console.log('Auto-Installing (Without User Interaction)');}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['10'][1]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['51']++;console.log('Installing');}__cov_zNqsOx3eL0yDrTHN9iqUJA.s['52']++;console.log('------------------------------');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['53']++;var installPaths={config:files.config,configFolder:folders.config,site:(__cov_zNqsOx3eL0yDrTHN9iqUJA.b['11'][0]++,answers.site)||(__cov_zNqsOx3eL0yDrTHN9iqUJA.b['11'][1]++,folders.site),themeConfig:files.themeConfig,themeConfigFolder:folders.themeConfig};__cov_zNqsOx3eL0yDrTHN9iqUJA.s['54']++;if((__cov_zNqsOx3eL0yDrTHN9iqUJA.b['13'][0]++,manager)&&((__cov_zNqsOx3eL0yDrTHN9iqUJA.b['13'][1]++,answers.useRoot)||(__cov_zNqsOx3eL0yDrTHN9iqUJA.b['13'][2]++,answers.customRoot))){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['12'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['55']++;if(answers.customRoot){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['14'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['56']++;if(answers.customRoot===''){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['15'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['57']++;console.log('Unable to proceed, invalid project root');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['58']++;return;}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['15'][1]++;}__cov_zNqsOx3eL0yDrTHN9iqUJA.s['59']++;manager.root=answers.customRoot;}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['14'][1]++;}__cov_zNqsOx3eL0yDrTHN9iqUJA.s['60']++;installPaths=extend(false,{},installPaths,{definition:folders.definitions,lessImport:folders.lessImport,tasks:folders.tasks,theme:folders.themes,defaultTheme:path.join(folders.themes,folders.defaultTheme),themeImport:folders.themeImport});__cov_zNqsOx3eL0yDrTHN9iqUJA.s['61']++;installFolder=path.join(manager.root,answers.semanticRoot);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['62']++;for(var destination in installPaths){__cov_zNqsOx3eL0yDrTHN9iqUJA.s['63']++;if(installPaths.hasOwnProperty(destination)){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['16'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['64']++;installPaths[destination]=(__cov_zNqsOx3eL0yDrTHN9iqUJA.b['18'][0]++,destination=='config')||(__cov_zNqsOx3eL0yDrTHN9iqUJA.b['18'][1]++,destination=='configFolder')?(__cov_zNqsOx3eL0yDrTHN9iqUJA.b['17'][0]++,path.normalize(path.join(manager.root,installPaths[destination]))):(__cov_zNqsOx3eL0yDrTHN9iqUJA.b['17'][1]++,path.normalize(path.join(installFolder,installPaths[destination])));}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['16'][1]++;}}__cov_zNqsOx3eL0yDrTHN9iqUJA.s['65']++;try{__cov_zNqsOx3eL0yDrTHN9iqUJA.s['66']++;mkdirp.sync(installFolder);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['67']++;mkdirp.sync(installPaths.definition);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['68']++;mkdirp.sync(installPaths.theme);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['69']++;mkdirp.sync(installPaths.tasks);}catch(error){__cov_zNqsOx3eL0yDrTHN9iqUJA.s['70']++;console.error('NPM does not have permissions to create folders at your specified path. Adjust your folders permissions and run "npm install" again');}__cov_zNqsOx3eL0yDrTHN9iqUJA.s['71']++;console.log('Installing to \x1B[92m'+answers.semanticRoot+'\x1B[0m');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['72']++;console.info('Copying UI definitions');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['73']++;wrench.copyDirSyncRecursive(source.definitions,installPaths.definition,settings.wrench.overwrite);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['74']++;console.info('Copying UI themes');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['75']++;wrench.copyDirSyncRecursive(source.themes,installPaths.theme,settings.wrench.merge);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['76']++;wrench.copyDirSyncRecursive(source.defaultTheme,installPaths.defaultTheme,settings.wrench.overwrite);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['77']++;console.info('Copying gulp tasks');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['78']++;wrench.copyDirSyncRecursive(source.tasks,installPaths.tasks,settings.wrench.overwrite);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['79']++;console.info('Adding theme files');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['80']++;gulp.src(source.themeImport).pipe(plumber()).pipe(gulp.dest(installPaths.themeImport));__cov_zNqsOx3eL0yDrTHN9iqUJA.s['81']++;gulp.src(source.lessImport).pipe(plumber()).pipe(gulp.dest(installPaths.lessImport));__cov_zNqsOx3eL0yDrTHN9iqUJA.s['82']++;console.info('Creating gulpfile.js');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['83']++;gulp.src(source.userGulpFile).pipe(plumber()).pipe(gulp.dest(installFolder));}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['12'][1]++;}__cov_zNqsOx3eL0yDrTHN9iqUJA.s['84']++;if(fs.existsSync(installPaths.site)){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['19'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['85']++;console.info('Site folder exists, merging files (no overwrite)',installPaths.site);}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['19'][1]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['86']++;console.info('Creating site theme folder',installPaths.site);}__cov_zNqsOx3eL0yDrTHN9iqUJA.s['87']++;wrench.copyDirSyncRecursive(source.site,installPaths.site,settings.wrench.merge);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['88']++;gulp.task('create theme.config',function(){__cov_zNqsOx3eL0yDrTHN9iqUJA.f['5']++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['89']++;var pathToSite=path.relative(path.resolve(installPaths.themeConfigFolder),path.resolve(installPaths.site)).replace(/\\/g,'/'),siteVariable='@siteFolder   : \''+pathToSite+'/\';';__cov_zNqsOx3eL0yDrTHN9iqUJA.s['90']++;console.info('Adjusting @siteFolder to: ',pathToSite+'/');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['91']++;if(fs.existsSync(installPaths.themeConfig)){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['20'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['92']++;console.info('Modifying src/theme.config (LESS config)',installPaths.themeConfig);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['93']++;return gulp.src(installPaths.themeConfig).pipe(plumber()).pipe(replace(regExp.siteVariable,siteVariable)).pipe(gulp.dest(installPaths.themeConfigFolder));}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['20'][1]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['94']++;console.info('Creating src/theme.config (LESS config)',installPaths.themeConfig);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['95']++;return gulp.src(source.themeConfig).pipe(plumber()).pipe(rename({extname:''})).pipe(replace(regExp.siteVariable,siteVariable)).pipe(gulp.dest(installPaths.themeConfigFolder));}});__cov_zNqsOx3eL0yDrTHN9iqUJA.s['96']++;gulp.task('create semantic.json',function(){__cov_zNqsOx3eL0yDrTHN9iqUJA.f['6']++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['97']++;var jsonConfig=install.createJSON(answers);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['98']++;if(fs.existsSync(installPaths.config)){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['21'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['99']++;console.info('Extending config file (semantic.json)',installPaths.config);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['100']++;return gulp.src(installPaths.config).pipe(plumber()).pipe(rename(settings.rename.json)).pipe(jsonEditor(jsonConfig)).pipe(gulp.dest(installPaths.configFolder));}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['21'][1]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['101']++;console.info('Creating config file (semantic.json)',installPaths.config);__cov_zNqsOx3eL0yDrTHN9iqUJA.s['102']++;return gulp.src(source.config).pipe(plumber()).pipe(rename({extname:''})).pipe(jsonEditor(jsonConfig)).pipe(gulp.dest(installPaths.configFolder));}});__cov_zNqsOx3eL0yDrTHN9iqUJA.s['103']++;runSequence('create theme.config','create semantic.json',callback);});__cov_zNqsOx3eL0yDrTHN9iqUJA.s['104']++;gulp.task('clean up install',function(){__cov_zNqsOx3eL0yDrTHN9iqUJA.f['7']++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['105']++;if((__cov_zNqsOx3eL0yDrTHN9iqUJA.b['23'][0]++,installFolder)&&(__cov_zNqsOx3eL0yDrTHN9iqUJA.b['23'][1]++,!install.shouldAutoInstall())){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['22'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['106']++;console.log('\n Setup Complete! \n Installing Peer Dependencies. \x1B[0;31mPlease refrain from ctrl + c\x1B[0m... \n After completion navigate to \x1B[92m'+answers.semanticRoot+'\x1B[0m and run "\x1B[92mgulp build\x1B[0m" to build');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['107']++;process.exit(0);}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['22'][1]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['108']++;console.log('');__cov_zNqsOx3eL0yDrTHN9iqUJA.s['109']++;console.log('');}__cov_zNqsOx3eL0yDrTHN9iqUJA.s['110']++;if(install.shouldAutoInstall()){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['24'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['111']++;return gulp.start('build');}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['24'][1]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['112']++;return gulp.src('gulpfile.js').pipe(prompt.prompt(questions.cleanup,function(answers){__cov_zNqsOx3eL0yDrTHN9iqUJA.f['8']++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['113']++;if(answers.cleanup=='yes'){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['25'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['114']++;del(install.setupFiles);}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['25'][1]++;}__cov_zNqsOx3eL0yDrTHN9iqUJA.s['115']++;if(answers.build=='yes'){__cov_zNqsOx3eL0yDrTHN9iqUJA.b['26'][0]++;__cov_zNqsOx3eL0yDrTHN9iqUJA.s['116']++;gulp.start('build');}else{__cov_zNqsOx3eL0yDrTHN9iqUJA.b['26'][1]++;}}));}});__cov_zNqsOx3eL0yDrTHN9iqUJA.s['117']++;runSequence('run setup','create install files','clean up install',callback);};
