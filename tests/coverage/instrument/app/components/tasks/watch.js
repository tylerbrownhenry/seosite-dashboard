
var __cov_s6IwWvYUiMtnQ7USqtoIWg = (Function('return this'))();
if (!__cov_s6IwWvYUiMtnQ7USqtoIWg.__coverage__) { __cov_s6IwWvYUiMtnQ7USqtoIWg.__coverage__ = {}; }
__cov_s6IwWvYUiMtnQ7USqtoIWg = __cov_s6IwWvYUiMtnQ7USqtoIWg.__coverage__;
if (!(__cov_s6IwWvYUiMtnQ7USqtoIWg['app/components/tasks/watch.js'])) {
   __cov_s6IwWvYUiMtnQ7USqtoIWg['app/components/tasks/watch.js'] = {"path":"app/components/tasks/watch.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":55,"loc":{"start":{"line":55,"column":17},"end":{"line":55,"column":36}}},"2":{"name":"(anonymous_2)","line":84,"loc":{"start":{"line":84,"column":7},"end":{"line":84,"column":22}}},"3":{"name":"(anonymous_3)","line":164,"loc":{"start":{"line":164,"column":21},"end":{"line":164,"column":32}}},"4":{"name":"(anonymous_4)","line":176,"loc":{"start":{"line":176,"column":21},"end":{"line":176,"column":32}}},"5":{"name":"(anonymous_5)","line":194,"loc":{"start":{"line":194,"column":7},"end":{"line":194,"column":22}}},"6":{"name":"(anonymous_6)","line":205,"loc":{"start":{"line":205,"column":19},"end":{"line":205,"column":30}}},"7":{"name":"(anonymous_7)","line":221,"loc":{"start":{"line":221,"column":7},"end":{"line":221,"column":22}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":45,"column":1}},"2":{"start":{"line":48,"column":0},"end":{"line":50,"column":1}},"3":{"start":{"line":49,"column":2},"end":{"line":49,"column":37}},"4":{"start":{"line":51,"column":0},"end":{"line":51,"column":40}},"5":{"start":{"line":55,"column":0},"end":{"line":231,"column":2}},"6":{"start":{"line":57,"column":2},"end":{"line":60,"column":3}},"7":{"start":{"line":58,"column":4},"end":{"line":58,"column":79}},"8":{"start":{"line":59,"column":4},"end":{"line":59,"column":11}},"9":{"start":{"line":63,"column":2},"end":{"line":65,"column":3}},"10":{"start":{"line":64,"column":4},"end":{"line":64,"column":28}},"11":{"start":{"line":66,"column":2},"end":{"line":69,"column":3}},"12":{"start":{"line":67,"column":4},"end":{"line":67,"column":28}},"13":{"start":{"line":68,"column":4},"end":{"line":68,"column":11}},"14":{"start":{"line":72,"column":2},"end":{"line":72,"column":51}},"15":{"start":{"line":78,"column":2},"end":{"line":185,"column":3}},"16":{"start":{"line":86,"column":6},"end":{"line":97,"column":7}},"17":{"start":{"line":100,"column":6},"end":{"line":102,"column":7}},"18":{"start":{"line":109,"column":6},"end":{"line":109,"column":113}},"19":{"start":{"line":110,"column":6},"end":{"line":110,"column":66}},"20":{"start":{"line":111,"column":6},"end":{"line":111,"column":64}},"21":{"start":{"line":112,"column":6},"end":{"line":112,"column":71}},"22":{"start":{"line":114,"column":6},"end":{"line":133,"column":7}},"23":{"start":{"line":115,"column":8},"end":{"line":115,"column":42}},"24":{"start":{"line":117,"column":8},"end":{"line":117,"column":32}},"25":{"start":{"line":118,"column":8},"end":{"line":118,"column":15}},"26":{"start":{"line":120,"column":11},"end":{"line":133,"column":7}},"27":{"start":{"line":121,"column":8},"end":{"line":121,"column":57}},"28":{"start":{"line":122,"column":8},"end":{"line":122,"column":61}},"29":{"start":{"line":123,"column":8},"end":{"line":123,"column":76}},"30":{"start":{"line":125,"column":11},"end":{"line":133,"column":7}},"31":{"start":{"line":126,"column":8},"end":{"line":126,"column":53}},"32":{"start":{"line":127,"column":8},"end":{"line":127,"column":61}},"33":{"start":{"line":128,"column":8},"end":{"line":128,"column":69}},"34":{"start":{"line":131,"column":8},"end":{"line":131,"column":53}},"35":{"start":{"line":132,"column":8},"end":{"line":132,"column":29}},"36":{"start":{"line":139,"column":6},"end":{"line":183,"column":7}},"37":{"start":{"line":142,"column":8},"end":{"line":153,"column":9}},"38":{"start":{"line":156,"column":8},"end":{"line":156,"column":50}},"39":{"start":{"line":157,"column":8},"end":{"line":157,"column":50}},"40":{"start":{"line":159,"column":8},"end":{"line":167,"column":9}},"41":{"start":{"line":165,"column":12},"end":{"line":165,"column":51}},"42":{"start":{"line":169,"column":8},"end":{"line":179,"column":9}},"43":{"start":{"line":177,"column":12},"end":{"line":177,"column":49}},"44":{"start":{"line":182,"column":8},"end":{"line":182,"column":67}},"45":{"start":{"line":191,"column":2},"end":{"line":211,"column":3}},"46":{"start":{"line":195,"column":6},"end":{"line":209,"column":7}},"47":{"start":{"line":206,"column":10},"end":{"line":206,"column":46}},"48":{"start":{"line":207,"column":10},"end":{"line":207,"column":48}},"49":{"start":{"line":218,"column":2},"end":{"line":229,"column":3}},"50":{"start":{"line":223,"column":6},"end":{"line":227,"column":7}}},"branchMap":{"1":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":0},"end":{"line":48,"column":0}},{"start":{"line":48,"column":0},"end":{"line":48,"column":0}}]},"2":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":2},"end":{"line":57,"column":2}},{"start":{"line":57,"column":2},"end":{"line":57,"column":2}}]},"3":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":2},"end":{"line":63,"column":2}},{"start":{"line":63,"column":2},"end":{"line":63,"column":2}}]},"4":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":2},"end":{"line":66,"column":2}},{"start":{"line":66,"column":2},"end":{"line":66,"column":2}}]},"5":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":5},"end":{"line":66,"column":24}},{"start":{"line":66,"column":28},"end":{"line":66,"column":48}}]},"6":{"line":109,"type":"binary-expr","locations":[{"start":{"line":109,"column":25},"end":{"line":109,"column":65}},{"start":{"line":109,"column":69},"end":{"line":109,"column":111}}]},"7":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":6},"end":{"line":114,"column":6}},{"start":{"line":114,"column":6},"end":{"line":114,"column":6}}]},"8":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":11},"end":{"line":120,"column":11}},{"start":{"line":120,"column":11},"end":{"line":120,"column":11}}]},"9":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":11},"end":{"line":125,"column":11}},{"start":{"line":125,"column":11},"end":{"line":125,"column":11}}]},"10":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":6},"end":{"line":139,"column":6}},{"start":{"line":139,"column":6},"end":{"line":139,"column":6}}]}}};
}
__cov_s6IwWvYUiMtnQ7USqtoIWg = __cov_s6IwWvYUiMtnQ7USqtoIWg['app/components/tasks/watch.js'];
__cov_s6IwWvYUiMtnQ7USqtoIWg.s['1']++;var gulp=require('gulp-help')(require('gulp')),console=require('better-console'),fs=require('fs'),autoprefixer=require('gulp-autoprefixer'),chmod=require('gulp-chmod'),clone=require('gulp-clone'),gulpif=require('gulp-if'),less=require('gulp-less'),minifyCSS=require('gulp-clean-css'),plumber=require('gulp-plumber'),print=require('gulp-print'),rename=require('gulp-rename'),replace=require('gulp-replace'),uglify=require('gulp-uglify'),util=require('gulp-util'),watch=require('gulp-watch'),config=require('./config/user'),tasks=require('./config/tasks'),install=require('./config/project/install'),globs=config.globs,assets=config.paths.assets,output=config.paths.output,source=config.paths.source,banner=tasks.banner,comments=tasks.regExp.comments,log=tasks.log,settings=tasks.settings;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['2']++;if(config.rtl){__cov_s6IwWvYUiMtnQ7USqtoIWg.b['1'][0]++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['3']++;require('./collections/rtl')(gulp);}else{__cov_s6IwWvYUiMtnQ7USqtoIWg.b['1'][1]++;}__cov_s6IwWvYUiMtnQ7USqtoIWg.s['4']++;require('./collections/internal')(gulp);__cov_s6IwWvYUiMtnQ7USqtoIWg.s['5']++;module.exports=function(callback){__cov_s6IwWvYUiMtnQ7USqtoIWg.f['1']++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['6']++;if(!install.isSetup()){__cov_s6IwWvYUiMtnQ7USqtoIWg.b['2'][0]++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['7']++;console.error('Cannot watch files. Run "gulp install" to set-up Semantic');__cov_s6IwWvYUiMtnQ7USqtoIWg.s['8']++;return;}else{__cov_s6IwWvYUiMtnQ7USqtoIWg.b['2'][1]++;}__cov_s6IwWvYUiMtnQ7USqtoIWg.s['9']++;if(config.rtl=='both'){__cov_s6IwWvYUiMtnQ7USqtoIWg.b['3'][0]++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['10']++;gulp.start('watch-rtl');}else{__cov_s6IwWvYUiMtnQ7USqtoIWg.b['3'][1]++;}__cov_s6IwWvYUiMtnQ7USqtoIWg.s['11']++;if((__cov_s6IwWvYUiMtnQ7USqtoIWg.b['5'][0]++,config.rtl===true)||(__cov_s6IwWvYUiMtnQ7USqtoIWg.b['5'][1]++,config.rtl==='Yes')){__cov_s6IwWvYUiMtnQ7USqtoIWg.b['4'][0]++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['12']++;gulp.start('watch-rtl');__cov_s6IwWvYUiMtnQ7USqtoIWg.s['13']++;return;}else{__cov_s6IwWvYUiMtnQ7USqtoIWg.b['4'][1]++;}__cov_s6IwWvYUiMtnQ7USqtoIWg.s['14']++;console.log('Watching source files for changes');__cov_s6IwWvYUiMtnQ7USqtoIWg.s['15']++;gulp.watch([source.config,source.definitions+'/**/*.less',source.site+'/**/*.{overrides,variables}',source.themes+'/**/*.{overrides,variables}'],function(file){__cov_s6IwWvYUiMtnQ7USqtoIWg.f['2']++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['16']++;var lessPath,stream,compressedStream,uncompressedStream,isDefinition,isPackagedTheme,isSiteTheme,isConfig;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['17']++;gulp.src(file.path).pipe(print(log.modified));__cov_s6IwWvYUiMtnQ7USqtoIWg.s['18']++;isConfig=(__cov_s6IwWvYUiMtnQ7USqtoIWg.b['6'][0]++,file.path.indexOf('theme.config')!==-1)||(__cov_s6IwWvYUiMtnQ7USqtoIWg.b['6'][1]++,file.path.indexOf('site.variables')!==-1);__cov_s6IwWvYUiMtnQ7USqtoIWg.s['19']++;isPackagedTheme=file.path.indexOf(source.themes)!==-1;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['20']++;isSiteTheme=file.path.indexOf(source.site)!==-1;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['21']++;isDefinition=file.path.indexOf(source.definitions)!==-1;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['22']++;if(isConfig){__cov_s6IwWvYUiMtnQ7USqtoIWg.b['7'][0]++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['23']++;console.info('Rebuilding all UI');__cov_s6IwWvYUiMtnQ7USqtoIWg.s['24']++;gulp.start('build-css');__cov_s6IwWvYUiMtnQ7USqtoIWg.s['25']++;return;}else{__cov_s6IwWvYUiMtnQ7USqtoIWg.b['7'][1]++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['26']++;if(isPackagedTheme){__cov_s6IwWvYUiMtnQ7USqtoIWg.b['8'][0]++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['27']++;console.log('Change detected in packaged theme');__cov_s6IwWvYUiMtnQ7USqtoIWg.s['28']++;lessPath=util.replaceExtension(file.path,'.less');__cov_s6IwWvYUiMtnQ7USqtoIWg.s['29']++;lessPath=lessPath.replace(tasks.regExp.theme,source.definitions);}else{__cov_s6IwWvYUiMtnQ7USqtoIWg.b['8'][1]++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['30']++;if(isSiteTheme){__cov_s6IwWvYUiMtnQ7USqtoIWg.b['9'][0]++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['31']++;console.log('Change detected in site theme');__cov_s6IwWvYUiMtnQ7USqtoIWg.s['32']++;lessPath=util.replaceExtension(file.path,'.less');__cov_s6IwWvYUiMtnQ7USqtoIWg.s['33']++;lessPath=lessPath.replace(source.site,source.definitions);}else{__cov_s6IwWvYUiMtnQ7USqtoIWg.b['9'][1]++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['34']++;console.log('Change detected in definition');__cov_s6IwWvYUiMtnQ7USqtoIWg.s['35']++;lessPath=file.path;}}}__cov_s6IwWvYUiMtnQ7USqtoIWg.s['36']++;if(fs.existsSync(lessPath)){__cov_s6IwWvYUiMtnQ7USqtoIWg.b['10'][0]++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['37']++;stream=gulp.src(lessPath).pipe(plumber(settings.plumber.less)).pipe(less(settings.less)).pipe(print(log.created)).pipe(replace(comments.variables.in,comments.variables.out)).pipe(replace(comments.license.in,comments.license.out)).pipe(replace(comments.large.in,comments.large.out)).pipe(replace(comments.small.in,comments.small.out)).pipe(replace(comments.tiny.in,comments.tiny.out)).pipe(autoprefixer(settings.prefix)).pipe(gulpif(config.hasPermission,chmod(config.permission)));__cov_s6IwWvYUiMtnQ7USqtoIWg.s['38']++;uncompressedStream=stream.pipe(clone());__cov_s6IwWvYUiMtnQ7USqtoIWg.s['39']++;compressedStream=stream.pipe(clone());__cov_s6IwWvYUiMtnQ7USqtoIWg.s['40']++;uncompressedStream.pipe(plumber()).pipe(replace(assets.source,assets.uncompressed)).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).on('end',function(){__cov_s6IwWvYUiMtnQ7USqtoIWg.f['3']++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['41']++;gulp.start('package uncompressed css');});__cov_s6IwWvYUiMtnQ7USqtoIWg.s['42']++;compressedStream=stream.pipe(plumber()).pipe(replace(assets.source,assets.compressed)).pipe(minifyCSS(settings.minify)).pipe(rename(settings.rename.minCSS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end',function(){__cov_s6IwWvYUiMtnQ7USqtoIWg.f['4']++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['43']++;gulp.start('package compressed css');});}else{__cov_s6IwWvYUiMtnQ7USqtoIWg.b['10'][1]++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['44']++;console.log('Cannot find UI definition at path',lessPath);}});__cov_s6IwWvYUiMtnQ7USqtoIWg.s['45']++;gulp.watch([source.definitions+'/**/*.js'],function(file){__cov_s6IwWvYUiMtnQ7USqtoIWg.f['5']++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['46']++;gulp.src(file.path).pipe(plumber()).pipe(replace(comments.license.in,comments.license.out)).pipe(gulpif(config.hasPermission,chmod(config.permission))).pipe(gulp.dest(output.uncompressed)).pipe(print(log.created)).pipe(uglify(settings.uglify)).pipe(rename(settings.rename.minJS)).pipe(gulp.dest(output.compressed)).pipe(print(log.created)).on('end',function(){__cov_s6IwWvYUiMtnQ7USqtoIWg.f['6']++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['47']++;gulp.start('package compressed js');__cov_s6IwWvYUiMtnQ7USqtoIWg.s['48']++;gulp.start('package uncompressed js');});});__cov_s6IwWvYUiMtnQ7USqtoIWg.s['49']++;gulp.watch([source.themes+'/**/assets/**/*.*'],function(file){__cov_s6IwWvYUiMtnQ7USqtoIWg.f['7']++;__cov_s6IwWvYUiMtnQ7USqtoIWg.s['50']++;gulp.src(file.path,{base:source.themes}).pipe(gulpif(config.hasPermission,chmod(config.permission))).pipe(gulp.dest(output.themes)).pipe(print(log.created));});};
