
var __cov_TVrKc1WIyRcS$vD3$50Urg = (Function('return this'))();
if (!__cov_TVrKc1WIyRcS$vD3$50Urg.__coverage__) { __cov_TVrKc1WIyRcS$vD3$50Urg.__coverage__ = {}; }
__cov_TVrKc1WIyRcS$vD3$50Urg = __cov_TVrKc1WIyRcS$vD3$50Urg.__coverage__;
if (!(__cov_TVrKc1WIyRcS$vD3$50Urg['app/amqp/worker.js'])) {
   __cov_TVrKc1WIyRcS$vD3$50Urg['app/amqp/worker.js'] = {"path":"app/amqp/worker.js","s":{"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"init","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":53}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":23}}},"3":{"name":"processScans","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}}},"4":{"name":"(anonymous_4)","line":27,"loc":{"start":{"line":27,"column":23},"end":{"line":27,"column":43}}},"5":{"name":"(anonymous_5)","line":28,"loc":{"start":{"line":28,"column":28},"end":{"line":28,"column":47}}},"6":{"name":"(anonymous_6)","line":34,"loc":{"start":{"line":34,"column":25},"end":{"line":34,"column":40}}},"7":{"name":"(anonymous_7)","line":38,"loc":{"start":{"line":38,"column":25},"end":{"line":38,"column":40}}},"8":{"name":"(anonymous_8)","line":42,"loc":{"start":{"line":42,"column":25},"end":{"line":42,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":3,"column":0},"end":{"line":21,"column":1}},"3":{"start":{"line":4,"column":5},"end":{"line":20,"column":8}},"4":{"start":{"line":7,"column":10},"end":{"line":10,"column":11}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":61}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":22}},"7":{"start":{"line":11,"column":10},"end":{"line":11,"column":44}},"8":{"start":{"line":12,"column":10},"end":{"line":19,"column":11}},"9":{"start":{"line":13,"column":15},"end":{"line":15,"column":18}},"10":{"start":{"line":17,"column":15},"end":{"line":17,"column":49}},"11":{"start":{"line":23,"column":0},"end":{"line":25,"column":1}},"12":{"start":{"line":24,"column":6},"end":{"line":24,"column":18}},"13":{"start":{"line":27,"column":0},"end":{"line":52,"column":2}},"14":{"start":{"line":28,"column":5},"end":{"line":51,"column":8}},"15":{"start":{"line":30,"column":10},"end":{"line":32,"column":11}},"16":{"start":{"line":31,"column":15},"end":{"line":31,"column":22}},"17":{"start":{"line":34,"column":10},"end":{"line":36,"column":13}},"18":{"start":{"line":35,"column":15},"end":{"line":35,"column":59}},"19":{"start":{"line":38,"column":10},"end":{"line":40,"column":13}},"20":{"start":{"line":39,"column":15},"end":{"line":39,"column":58}},"21":{"start":{"line":42,"column":10},"end":{"line":44,"column":13}},"22":{"start":{"line":43,"column":15},"end":{"line":43,"column":52}},"23":{"start":{"line":46,"column":10},"end":{"line":46,"column":26}},"24":{"start":{"line":48,"column":10},"end":{"line":48,"column":47}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":10},"end":{"line":7,"column":10}},{"start":{"line":7,"column":10},"end":{"line":7,"column":10}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":10},"end":{"line":12,"column":10}},{"start":{"line":12,"column":10},"end":{"line":12,"column":10}}]},"3":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":10},"end":{"line":30,"column":10}},{"start":{"line":30,"column":10},"end":{"line":30,"column":10}}]}}};
}
__cov_TVrKc1WIyRcS$vD3$50Urg = __cov_TVrKc1WIyRcS$vD3$50Urg['app/amqp/worker.js'];
__cov_TVrKc1WIyRcS$vD3$50Urg.s['1']++;var errorHandler=require('./errorHandler');function init(assertName,queueFunc,queueName,ack){__cov_TVrKc1WIyRcS$vD3$50Urg.f['1']++;__cov_TVrKc1WIyRcS$vD3$50Urg.s['3']++;ch.assertQueue(queueName,{durable:true},function(err){__cov_TVrKc1WIyRcS$vD3$50Urg.f['2']++;__cov_TVrKc1WIyRcS$vD3$50Urg.s['4']++;if(errorHandler(amqpConn,err)){__cov_TVrKc1WIyRcS$vD3$50Urg.b['1'][0]++;__cov_TVrKc1WIyRcS$vD3$50Urg.s['5']++;console.log('amqpConn',amqpConn,'err',err);__cov_TVrKc1WIyRcS$vD3$50Urg.s['6']++;return;}else{__cov_TVrKc1WIyRcS$vD3$50Urg.b['1'][1]++;}__cov_TVrKc1WIyRcS$vD3$50Urg.s['7']++;console.log('queue'+assertName);__cov_TVrKc1WIyRcS$vD3$50Urg.s['8']++;if(ack){__cov_TVrKc1WIyRcS$vD3$50Urg.b['2'][0]++;__cov_TVrKc1WIyRcS$vD3$50Urg.s['9']++;ch.consume(assertName,queueFunc,{noAck:false});}else{__cov_TVrKc1WIyRcS$vD3$50Urg.b['2'][1]++;__cov_TVrKc1WIyRcS$vD3$50Urg.s['10']++;ch.consume(assertName,queueFunc);}});}function processScans(msg){__cov_TVrKc1WIyRcS$vD3$50Urg.f['3']++;__cov_TVrKc1WIyRcS$vD3$50Urg.s['12']++;ch.ack(msg);}__cov_TVrKc1WIyRcS$vD3$50Urg.s['13']++;module.exports.start=function(amqpConn){__cov_TVrKc1WIyRcS$vD3$50Urg.f['4']++;__cov_TVrKc1WIyRcS$vD3$50Urg.s['14']++;amqpConn.createChannel(function(err,ch){__cov_TVrKc1WIyRcS$vD3$50Urg.f['5']++;__cov_TVrKc1WIyRcS$vD3$50Urg.s['15']++;if(errorHandler(amqpConn,err)){__cov_TVrKc1WIyRcS$vD3$50Urg.b['3'][0]++;__cov_TVrKc1WIyRcS$vD3$50Urg.s['16']++;return;}else{__cov_TVrKc1WIyRcS$vD3$50Urg.b['3'][1]++;}__cov_TVrKc1WIyRcS$vD3$50Urg.s['17']++;ch.on('drain',function(err){__cov_TVrKc1WIyRcS$vD3$50Urg.f['6']++;__cov_TVrKc1WIyRcS$vD3$50Urg.s['18']++;console.error('[AMQP] channel drgain',err);});__cov_TVrKc1WIyRcS$vD3$50Urg.s['19']++;ch.on('error',function(err){__cov_TVrKc1WIyRcS$vD3$50Urg.f['7']++;__cov_TVrKc1WIyRcS$vD3$50Urg.s['20']++;console.error('[AMQP] channel error',err);});__cov_TVrKc1WIyRcS$vD3$50Urg.s['21']++;ch.on('close',function(){__cov_TVrKc1WIyRcS$vD3$50Urg.f['8']++;__cov_TVrKc1WIyRcS$vD3$50Urg.s['22']++;console.log('[AMQP] channel closed');});__cov_TVrKc1WIyRcS$vD3$50Urg.s['23']++;ch.prefetch(10);__cov_TVrKc1WIyRcS$vD3$50Urg.s['24']++;init('scans',processScans,'scans');});};
