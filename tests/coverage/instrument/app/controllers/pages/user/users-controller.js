"use strict";
var __cov_7pd4sYiqj$Y7VK2gxdjsFA = (Function('return this'))();
if (!__cov_7pd4sYiqj$Y7VK2gxdjsFA.__coverage__) { __cov_7pd4sYiqj$Y7VK2gxdjsFA.__coverage__ = {}; }
__cov_7pd4sYiqj$Y7VK2gxdjsFA = __cov_7pd4sYiqj$Y7VK2gxdjsFA.__coverage__;
if (!(__cov_7pd4sYiqj$Y7VK2gxdjsFA['app/controllers/pages/user/users-controller.js'])) {
   __cov_7pd4sYiqj$Y7VK2gxdjsFA['app/controllers/pages/user/users-controller.js'] = {"path":"app/controllers/pages/user/users-controller.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":1,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":1,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":1,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":1,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":1,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":1,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},"fnMap":{"1":{"name":"getProfile","line":46,"loc":{"start":{"line":46,"column":0},"end":{"line":46,"column":30}}},"2":{"name":"createUser","line":71,"loc":{"start":{"line":71,"column":0},"end":{"line":71,"column":35}}},"3":{"name":"_formatUserInput","line":97,"loc":{"start":{"line":97,"column":0},"end":{"line":97,"column":40}}},"4":{"name":"(anonymous_4)","line":100,"loc":{"start":{"line":100,"column":18},"end":{"line":100,"column":33}}},"5":{"name":"_finalizeProfileUpdate","line":114,"loc":{"start":{"line":114,"column":0},"end":{"line":114,"column":53}}},"6":{"name":"_updateEmail","line":130,"loc":{"start":{"line":130,"column":0},"end":{"line":130,"column":49}}},"7":{"name":"(anonymous_7)","line":147,"loc":{"start":{"line":147,"column":18},"end":{"line":147,"column":33}}},"8":{"name":"postProfile","line":178,"loc":{"start":{"line":178,"column":0},"end":{"line":178,"column":37}}},"9":{"name":"postBilling","line":219,"loc":{"start":{"line":219,"column":0},"end":{"line":219,"column":37}}},"10":{"name":"postPlan","line":255,"loc":{"start":{"line":255,"column":0},"end":{"line":255,"column":34}}},"11":{"name":"(anonymous_11)","line":280,"loc":{"start":{"line":280,"column":77},"end":{"line":280,"column":92}}},"12":{"name":"setPlan","line":299,"loc":{"start":{"line":299,"column":0},"end":{"line":299,"column":59}}},"13":{"name":"(anonymous_13)","line":300,"loc":{"start":{"line":300,"column":68},"end":{"line":300,"column":83}}},"14":{"name":"createAccount","line":328,"loc":{"start":{"line":328,"column":0},"end":{"line":328,"column":34}}},"15":{"name":"(anonymous_15)","line":329,"loc":{"start":{"line":329,"column":59},"end":{"line":329,"column":86}}},"16":{"name":"(anonymous_16)","line":357,"loc":{"start":{"line":357,"column":20},"end":{"line":357,"column":35}}},"17":{"name":"(anonymous_17)","line":362,"loc":{"start":{"line":362,"column":26},"end":{"line":362,"column":41}}},"18":{"name":"(anonymous_18)","line":366,"loc":{"start":{"line":366,"column":38},"end":{"line":366,"column":53}}},"19":{"name":"(anonymous_19)","line":371,"loc":{"start":{"line":371,"column":39},"end":{"line":371,"column":54}}},"20":{"name":"(anonymous_20)","line":382,"loc":{"start":{"line":382,"column":123},"end":{"line":382,"column":138}}},"21":{"name":"createSubAccount","line":399,"loc":{"start":{"line":399,"column":0},"end":{"line":399,"column":48}}},"22":{"name":"(anonymous_22)","line":401,"loc":{"start":{"line":401,"column":36},"end":{"line":401,"column":56}}},"23":{"name":"(anonymous_23)","line":410,"loc":{"start":{"line":410,"column":21},"end":{"line":410,"column":36}}},"24":{"name":"(anonymous_24)","line":415,"loc":{"start":{"line":415,"column":25},"end":{"line":415,"column":40}}},"25":{"name":"(anonymous_25)","line":420,"loc":{"start":{"line":420,"column":51},"end":{"line":420,"column":71}}},"26":{"name":"(anonymous_26)","line":422,"loc":{"start":{"line":422,"column":113},"end":{"line":422,"column":128}}},"27":{"name":"(anonymous_27)","line":426,"loc":{"start":{"line":426,"column":111},"end":{"line":426,"column":126}}},"28":{"name":"findOrCreateUser","line":444,"loc":{"start":{"line":444,"column":0},"end":{"line":444,"column":65}}},"29":{"name":"(anonymous_29)","line":447,"loc":{"start":{"line":447,"column":10},"end":{"line":447,"column":39}}},"30":{"name":"(anonymous_30)","line":457,"loc":{"start":{"line":457,"column":48},"end":{"line":457,"column":69}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":24,"column":85}},"2":{"start":{"line":26,"column":0},"end":{"line":31,"column":74}},"3":{"start":{"line":34,"column":0},"end":{"line":34,"column":53}},"4":{"start":{"line":35,"column":0},"end":{"line":35,"column":51}},"5":{"start":{"line":36,"column":0},"end":{"line":36,"column":37}},"6":{"start":{"line":37,"column":0},"end":{"line":37,"column":31}},"7":{"start":{"line":38,"column":0},"end":{"line":38,"column":45}},"8":{"start":{"line":39,"column":0},"end":{"line":39,"column":47}},"9":{"start":{"line":46,"column":0},"end":{"line":63,"column":1}},"10":{"start":{"line":47,"column":5},"end":{"line":50,"column":42}},"11":{"start":{"line":52,"column":5},"end":{"line":54,"column":6}},"12":{"start":{"line":53,"column":10},"end":{"line":53,"column":42}},"13":{"start":{"line":55,"column":5},"end":{"line":57,"column":6}},"14":{"start":{"line":56,"column":10},"end":{"line":56,"column":32}},"15":{"start":{"line":58,"column":5},"end":{"line":62,"column":8}},"16":{"start":{"line":71,"column":0},"end":{"line":89,"column":1}},"17":{"start":{"line":72,"column":4},"end":{"line":83,"column":6}},"18":{"start":{"line":84,"column":5},"end":{"line":87,"column":6}},"19":{"start":{"line":85,"column":7},"end":{"line":85,"column":31}},"20":{"start":{"line":86,"column":7},"end":{"line":86,"column":26}},"21":{"start":{"line":88,"column":5},"end":{"line":88,"column":27}},"22":{"start":{"line":97,"column":0},"end":{"line":106,"column":1}},"23":{"start":{"line":98,"column":5},"end":{"line":98,"column":44}},"24":{"start":{"line":99,"column":5},"end":{"line":99,"column":70}},"25":{"start":{"line":100,"column":5},"end":{"line":104,"column":7}},"26":{"start":{"line":101,"column":10},"end":{"line":103,"column":11}},"27":{"start":{"line":102,"column":15},"end":{"line":102,"column":39}},"28":{"start":{"line":105,"column":5},"end":{"line":105,"column":18}},"29":{"start":{"line":114,"column":0},"end":{"line":122,"column":1}},"30":{"start":{"line":115,"column":5},"end":{"line":117,"column":6}},"31":{"start":{"line":116,"column":10},"end":{"line":116,"column":27}},"32":{"start":{"line":118,"column":5},"end":{"line":120,"column":8}},"33":{"start":{"line":121,"column":5},"end":{"line":121,"column":40}},"34":{"start":{"line":130,"column":0},"end":{"line":170,"column":1}},"35":{"start":{"line":131,"column":5},"end":{"line":131,"column":29}},"36":{"start":{"line":132,"column":5},"end":{"line":168,"column":7}},"37":{"start":{"line":133,"column":10},"end":{"line":135,"column":11}},"38":{"start":{"line":134,"column":15},"end":{"line":134,"column":42}},"39":{"start":{"line":136,"column":10},"end":{"line":136,"column":37}},"40":{"start":{"line":137,"column":10},"end":{"line":137,"column":54}},"41":{"start":{"line":138,"column":10},"end":{"line":138,"column":42}},"42":{"start":{"line":139,"column":10},"end":{"line":139,"column":49}},"43":{"start":{"line":141,"column":10},"end":{"line":167,"column":13}},"44":{"start":{"line":142,"column":15},"end":{"line":166,"column":18}},"45":{"start":{"line":148,"column":20},"end":{"line":165,"column":23}},"46":{"start":{"line":149,"column":25},"end":{"line":151,"column":26}},"47":{"start":{"line":150,"column":30},"end":{"line":150,"column":57}},"48":{"start":{"line":152,"column":25},"end":{"line":164,"column":26}},"49":{"start":{"line":153,"column":30},"end":{"line":163,"column":33}},"50":{"start":{"line":154,"column":35},"end":{"line":156,"column":36}},"51":{"start":{"line":155,"column":40},"end":{"line":155,"column":67}},"52":{"start":{"line":157,"column":35},"end":{"line":162,"column":38}},"53":{"start":{"line":158,"column":40},"end":{"line":160,"column":41}},"54":{"start":{"line":159,"column":45},"end":{"line":159,"column":72}},"55":{"start":{"line":161,"column":40},"end":{"line":161,"column":65}},"56":{"start":{"line":169,"column":5},"end":{"line":169,"column":28}},"57":{"start":{"line":178,"column":0},"end":{"line":211,"column":1}},"58":{"start":{"line":179,"column":5},"end":{"line":179,"column":92}},"59":{"start":{"line":180,"column":5},"end":{"line":180,"column":34}},"60":{"start":{"line":181,"column":5},"end":{"line":181,"column":46}},"61":{"start":{"line":182,"column":5},"end":{"line":210,"column":6}},"62":{"start":{"line":183,"column":10},"end":{"line":183,"column":61}},"63":{"start":{"line":184,"column":10},"end":{"line":198,"column":13}},"64":{"start":{"line":185,"column":15},"end":{"line":185,"column":89}},"65":{"start":{"line":186,"column":15},"end":{"line":197,"column":16}},"66":{"start":{"line":187,"column":20},"end":{"line":189,"column":23}},"67":{"start":{"line":190,"column":20},"end":{"line":190,"column":62}},"68":{"start":{"line":192,"column":20},"end":{"line":196,"column":22}},"69":{"start":{"line":193,"column":25},"end":{"line":193,"column":76}},"70":{"start":{"line":195,"column":25},"end":{"line":195,"column":35}},"71":{"start":{"line":200,"column":10},"end":{"line":200,"column":91}},"72":{"start":{"line":201,"column":10},"end":{"line":209,"column":13}},"73":{"start":{"line":202,"column":15},"end":{"line":204,"column":16}},"74":{"start":{"line":203,"column":20},"end":{"line":203,"column":37}},"75":{"start":{"line":205,"column":15},"end":{"line":205,"column":49}},"76":{"start":{"line":206,"column":15},"end":{"line":208,"column":18}},"77":{"start":{"line":207,"column":20},"end":{"line":207,"column":70}},"78":{"start":{"line":219,"column":0},"end":{"line":247,"column":1}},"79":{"start":{"line":221,"column":5},"end":{"line":221,"column":34}},"80":{"start":{"line":222,"column":5},"end":{"line":222,"column":46}},"81":{"start":{"line":223,"column":5},"end":{"line":223,"column":50}},"82":{"start":{"line":225,"column":5},"end":{"line":225,"column":33}},"83":{"start":{"line":226,"column":5},"end":{"line":226,"column":55}},"84":{"start":{"line":228,"column":5},"end":{"line":246,"column":8}},"85":{"start":{"line":229,"column":10},"end":{"line":241,"column":11}},"86":{"start":{"line":230,"column":15},"end":{"line":230,"column":89}},"87":{"start":{"line":231,"column":15},"end":{"line":236,"column":16}},"88":{"start":{"line":232,"column":20},"end":{"line":234,"column":23}},"89":{"start":{"line":235,"column":20},"end":{"line":235,"column":62}},"90":{"start":{"line":237,"column":15},"end":{"line":239,"column":18}},"91":{"start":{"line":240,"column":15},"end":{"line":240,"column":57}},"92":{"start":{"line":242,"column":10},"end":{"line":244,"column":13}},"93":{"start":{"line":245,"column":10},"end":{"line":245,"column":45}},"94":{"start":{"line":255,"column":0},"end":{"line":288,"column":1}},"95":{"start":{"line":256,"column":5},"end":{"line":256,"column":150}},"96":{"start":{"line":257,"column":5},"end":{"line":257,"column":34}},"97":{"start":{"line":258,"column":5},"end":{"line":258,"column":46}},"98":{"start":{"line":259,"column":5},"end":{"line":259,"column":30}},"99":{"start":{"line":260,"column":5},"end":{"line":262,"column":6}},"100":{"start":{"line":261,"column":10},"end":{"line":261,"column":36}},"101":{"start":{"line":263,"column":5},"end":{"line":269,"column":6}},"102":{"start":{"line":264,"column":10},"end":{"line":264,"column":62}},"103":{"start":{"line":265,"column":10},"end":{"line":267,"column":13}},"104":{"start":{"line":268,"column":10},"end":{"line":268,"column":52}},"105":{"start":{"line":270,"column":5},"end":{"line":287,"column":6}},"106":{"start":{"line":271,"column":10},"end":{"line":271,"column":81}},"107":{"start":{"line":272,"column":10},"end":{"line":274,"column":13}},"108":{"start":{"line":275,"column":10},"end":{"line":275,"column":52}},"109":{"start":{"line":276,"column":12},"end":{"line":287,"column":6}},"110":{"start":{"line":277,"column":10},"end":{"line":277,"column":34}},"111":{"start":{"line":278,"column":10},"end":{"line":278,"column":38}},"112":{"start":{"line":279,"column":10},"end":{"line":279,"column":60}},"113":{"start":{"line":280,"column":10},"end":{"line":283,"column":13}},"114":{"start":{"line":281,"column":15},"end":{"line":281,"column":68}},"115":{"start":{"line":282,"column":15},"end":{"line":282,"column":75}},"116":{"start":{"line":285,"column":10},"end":{"line":285,"column":42}},"117":{"start":{"line":286,"column":10},"end":{"line":286,"column":70}},"118":{"start":{"line":299,"column":0},"end":{"line":321,"column":1}},"119":{"start":{"line":300,"column":5},"end":{"line":320,"column":8}},"120":{"start":{"line":301,"column":10},"end":{"line":301,"column":69}},"121":{"start":{"line":302,"column":10},"end":{"line":302,"column":18}},"122":{"start":{"line":303,"column":10},"end":{"line":315,"column":11}},"123":{"start":{"line":304,"column":15},"end":{"line":310,"column":16}},"124":{"start":{"line":305,"column":20},"end":{"line":305,"column":81}},"125":{"start":{"line":306,"column":22},"end":{"line":310,"column":16}},"126":{"start":{"line":307,"column":20},"end":{"line":307,"column":38}},"127":{"start":{"line":309,"column":20},"end":{"line":309,"column":58}},"128":{"start":{"line":311,"column":15},"end":{"line":313,"column":18}},"129":{"start":{"line":314,"column":15},"end":{"line":314,"column":57}},"130":{"start":{"line":316,"column":10},"end":{"line":318,"column":13}},"131":{"start":{"line":319,"column":10},"end":{"line":319,"column":45}},"132":{"start":{"line":328,"column":0},"end":{"line":390,"column":1}},"133":{"start":{"line":329,"column":5},"end":{"line":389,"column":8}},"134":{"start":{"line":330,"column":10},"end":{"line":330,"column":175}},"135":{"start":{"line":331,"column":10},"end":{"line":333,"column":11}},"136":{"start":{"line":332,"column":15},"end":{"line":332,"column":32}},"137":{"start":{"line":334,"column":10},"end":{"line":334,"column":49}},"138":{"start":{"line":336,"column":10},"end":{"line":341,"column":13}},"139":{"start":{"line":343,"column":10},"end":{"line":348,"column":13}},"140":{"start":{"line":350,"column":10},"end":{"line":355,"column":13}},"141":{"start":{"line":357,"column":10},"end":{"line":388,"column":13}},"142":{"start":{"line":358,"column":15},"end":{"line":358,"column":149}},"143":{"start":{"line":359,"column":15},"end":{"line":361,"column":16}},"144":{"start":{"line":360,"column":20},"end":{"line":360,"column":100}},"145":{"start":{"line":362,"column":15},"end":{"line":387,"column":18}},"146":{"start":{"line":363,"column":20},"end":{"line":365,"column":21}},"147":{"start":{"line":364,"column":25},"end":{"line":364,"column":107}},"148":{"start":{"line":366,"column":20},"end":{"line":386,"column":23}},"149":{"start":{"line":367,"column":25},"end":{"line":367,"column":187}},"150":{"start":{"line":368,"column":25},"end":{"line":370,"column":26}},"151":{"start":{"line":369,"column":30},"end":{"line":369,"column":119}},"152":{"start":{"line":371,"column":25},"end":{"line":385,"column":28}},"153":{"start":{"line":372,"column":30},"end":{"line":372,"column":206}},"154":{"start":{"line":373,"column":30},"end":{"line":375,"column":31}},"155":{"start":{"line":374,"column":35},"end":{"line":374,"column":119}},"156":{"start":{"line":376,"column":30},"end":{"line":376,"column":59}},"157":{"start":{"line":377,"column":30},"end":{"line":377,"column":63}},"158":{"start":{"line":378,"column":30},"end":{"line":378,"column":87}},"159":{"start":{"line":379,"column":30},"end":{"line":379,"column":50}},"160":{"start":{"line":381,"column":30},"end":{"line":381,"column":96}},"161":{"start":{"line":382,"column":30},"end":{"line":384,"column":33}},"162":{"start":{"line":383,"column":35},"end":{"line":383,"column":122}},"163":{"start":{"line":399,"column":0},"end":{"line":435,"column":1}},"164":{"start":{"line":400,"column":5},"end":{"line":400,"column":119}},"165":{"start":{"line":401,"column":5},"end":{"line":434,"column":8}},"166":{"start":{"line":402,"column":10},"end":{"line":402,"column":36}},"167":{"start":{"line":403,"column":10},"end":{"line":403,"column":53}},"168":{"start":{"line":404,"column":10},"end":{"line":409,"column":13}},"169":{"start":{"line":410,"column":10},"end":{"line":433,"column":12}},"170":{"start":{"line":411,"column":15},"end":{"line":411,"column":84}},"171":{"start":{"line":412,"column":15},"end":{"line":414,"column":16}},"172":{"start":{"line":413,"column":20},"end":{"line":413,"column":37}},"173":{"start":{"line":415,"column":15},"end":{"line":432,"column":17}},"174":{"start":{"line":416,"column":20},"end":{"line":416,"column":88}},"175":{"start":{"line":417,"column":20},"end":{"line":419,"column":21}},"176":{"start":{"line":418,"column":25},"end":{"line":418,"column":42}},"177":{"start":{"line":420,"column":20},"end":{"line":423,"column":23}},"178":{"start":{"line":421,"column":25},"end":{"line":421,"column":103}},"179":{"start":{"line":422,"column":25},"end":{"line":422,"column":131}},"180":{"start":{"line":424,"column":20},"end":{"line":424,"column":86}},"181":{"start":{"line":425,"column":20},"end":{"line":431,"column":21}},"182":{"start":{"line":426,"column":22},"end":{"line":428,"column":25}},"183":{"start":{"line":427,"column":25},"end":{"line":427,"column":112}},"184":{"start":{"line":430,"column":22},"end":{"line":430,"column":109}},"185":{"start":{"line":444,"column":0},"end":{"line":475,"column":1}},"186":{"start":{"line":445,"column":5},"end":{"line":445,"column":61}},"187":{"start":{"line":446,"column":5},"end":{"line":474,"column":13}},"188":{"start":{"line":448,"column":15},"end":{"line":448,"column":125}},"189":{"start":{"line":449,"column":15},"end":{"line":455,"column":16}},"190":{"start":{"line":450,"column":20},"end":{"line":450,"column":91}},"191":{"start":{"line":451,"column":20},"end":{"line":453,"column":23}},"192":{"start":{"line":454,"column":20},"end":{"line":454,"column":97}},"193":{"start":{"line":456,"column":15},"end":{"line":456,"column":102}},"194":{"start":{"line":457,"column":15},"end":{"line":473,"column":18}},"195":{"start":{"line":458,"column":20},"end":{"line":458,"column":140}},"196":{"start":{"line":459,"column":20},"end":{"line":462,"column":21}},"197":{"start":{"line":460,"column":25},"end":{"line":460,"column":119}},"198":{"start":{"line":461,"column":25},"end":{"line":461,"column":112}},"199":{"start":{"line":463,"column":20},"end":{"line":463,"column":115}},"200":{"start":{"line":464,"column":20},"end":{"line":464,"column":56}},"201":{"start":{"line":465,"column":20},"end":{"line":465,"column":34}},"202":{"start":{"line":466,"column":20},"end":{"line":466,"column":36}},"203":{"start":{"line":467,"column":20},"end":{"line":472,"column":21}},"204":{"start":{"line":468,"column":25},"end":{"line":468,"column":71}},"205":{"start":{"line":470,"column":25},"end":{"line":470,"column":165}},"206":{"start":{"line":471,"column":25},"end":{"line":471,"column":57}},"207":{"start":{"line":477,"column":0},"end":{"line":477,"column":43}},"208":{"start":{"line":478,"column":0},"end":{"line":478,"column":41}},"209":{"start":{"line":479,"column":0},"end":{"line":479,"column":41}},"210":{"start":{"line":480,"column":0},"end":{"line":480,"column":35}},"211":{"start":{"line":481,"column":0},"end":{"line":481,"column":51}},"212":{"start":{"line":482,"column":0},"end":{"line":482,"column":33}},"213":{"start":{"line":483,"column":0},"end":{"line":483,"column":45}},"214":{"start":{"line":484,"column":0},"end":{"line":484,"column":51}},"215":{"start":{"line":485,"column":0},"end":{"line":485,"column":39}},"216":{"start":{"line":486,"column":0},"end":{"line":486,"column":63}},"217":{"start":{"line":487,"column":0},"end":{"line":487,"column":51}}},"branchMap":{"1":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":5},"end":{"line":52,"column":5}},{"start":{"line":52,"column":5},"end":{"line":52,"column":5}}]},"2":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":5},"end":{"line":55,"column":5}},{"start":{"line":55,"column":5},"end":{"line":55,"column":5}}]},"3":{"line":74,"type":"cond-expr","locations":[{"start":{"line":74,"column":31},"end":{"line":74,"column":44}},{"start":{"line":74,"column":47},"end":{"line":74,"column":51}}]},"4":{"line":75,"type":"cond-expr","locations":[{"start":{"line":75,"column":39},"end":{"line":75,"column":56}},{"start":{"line":75,"column":59},"end":{"line":75,"column":63}}]},"5":{"line":76,"type":"cond-expr","locations":[{"start":{"line":76,"column":37},"end":{"line":76,"column":53}},{"start":{"line":76,"column":56},"end":{"line":76,"column":60}}]},"6":{"line":78,"type":"cond-expr","locations":[{"start":{"line":78,"column":32},"end":{"line":78,"column":40}},{"start":{"line":78,"column":43},"end":{"line":78,"column":47}}]},"7":{"line":80,"type":"cond-expr","locations":[{"start":{"line":80,"column":31},"end":{"line":80,"column":44}},{"start":{"line":80,"column":47},"end":{"line":80,"column":58}}]},"8":{"line":81,"type":"cond-expr","locations":[{"start":{"line":81,"column":30},"end":{"line":81,"column":43}},{"start":{"line":81,"column":46},"end":{"line":81,"column":80}}]},"9":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":5},"end":{"line":84,"column":5}},{"start":{"line":84,"column":5},"end":{"line":84,"column":5}}]},"10":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":10},"end":{"line":101,"column":10}},{"start":{"line":101,"column":10},"end":{"line":101,"column":10}}]},"11":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":5},"end":{"line":115,"column":5}},{"start":{"line":115,"column":5},"end":{"line":115,"column":5}}]},"12":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":10},"end":{"line":133,"column":10}},{"start":{"line":133,"column":10},"end":{"line":133,"column":10}}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":24},"end":{"line":138,"column":35}},{"start":{"line":138,"column":39},"end":{"line":138,"column":41}}]},"14":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":25},"end":{"line":149,"column":25}},{"start":{"line":149,"column":25},"end":{"line":149,"column":25}}]},"15":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":25},"end":{"line":152,"column":25}},{"start":{"line":152,"column":25},"end":{"line":152,"column":25}}]},"16":{"line":152,"type":"binary-expr","locations":[{"start":{"line":152,"column":29},"end":{"line":152,"column":55}},{"start":{"line":152,"column":59},"end":{"line":152,"column":78}}]},"17":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":35},"end":{"line":154,"column":35}},{"start":{"line":154,"column":35},"end":{"line":154,"column":35}}]},"18":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":40},"end":{"line":158,"column":40}},{"start":{"line":158,"column":40},"end":{"line":158,"column":40}}]},"19":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":5},"end":{"line":182,"column":5}},{"start":{"line":182,"column":5},"end":{"line":182,"column":5}}]},"20":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":15},"end":{"line":186,"column":15}},{"start":{"line":186,"column":15},"end":{"line":186,"column":15}}]},"21":{"line":202,"type":"if","locations":[{"start":{"line":202,"column":15},"end":{"line":202,"column":15}},{"start":{"line":202,"column":15},"end":{"line":202,"column":15}}]},"22":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":10},"end":{"line":229,"column":10}},{"start":{"line":229,"column":10},"end":{"line":229,"column":10}}]},"23":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":15},"end":{"line":231,"column":15}},{"start":{"line":231,"column":15},"end":{"line":231,"column":15}}]},"24":{"line":231,"type":"binary-expr","locations":[{"start":{"line":231,"column":19},"end":{"line":231,"column":27}},{"start":{"line":231,"column":31},"end":{"line":231,"column":59}}]},"25":{"line":260,"type":"if","locations":[{"start":{"line":260,"column":5},"end":{"line":260,"column":5}},{"start":{"line":260,"column":5},"end":{"line":260,"column":5}}]},"26":{"line":263,"type":"if","locations":[{"start":{"line":263,"column":5},"end":{"line":263,"column":5}},{"start":{"line":263,"column":5},"end":{"line":263,"column":5}}]},"27":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":5},"end":{"line":270,"column":5}},{"start":{"line":270,"column":5},"end":{"line":270,"column":5}}]},"28":{"line":270,"type":"binary-expr","locations":[{"start":{"line":270,"column":9},"end":{"line":270,"column":28}},{"start":{"line":270,"column":32},"end":{"line":270,"column":53}}]},"29":{"line":276,"type":"if","locations":[{"start":{"line":276,"column":12},"end":{"line":276,"column":12}},{"start":{"line":276,"column":12},"end":{"line":276,"column":12}}]},"30":{"line":276,"type":"binary-expr","locations":[{"start":{"line":276,"column":16},"end":{"line":276,"column":35}},{"start":{"line":276,"column":39},"end":{"line":276,"column":59}}]},"31":{"line":303,"type":"if","locations":[{"start":{"line":303,"column":10},"end":{"line":303,"column":10}},{"start":{"line":303,"column":10},"end":{"line":303,"column":10}}]},"32":{"line":304,"type":"if","locations":[{"start":{"line":304,"column":15},"end":{"line":304,"column":15}},{"start":{"line":304,"column":15},"end":{"line":304,"column":15}}]},"33":{"line":304,"type":"binary-expr","locations":[{"start":{"line":304,"column":19},"end":{"line":304,"column":27}},{"start":{"line":304,"column":31},"end":{"line":304,"column":59}}]},"34":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":22},"end":{"line":306,"column":22}},{"start":{"line":306,"column":22},"end":{"line":306,"column":22}}]},"35":{"line":306,"type":"binary-expr","locations":[{"start":{"line":306,"column":26},"end":{"line":306,"column":29}},{"start":{"line":306,"column":33},"end":{"line":306,"column":44}}]},"36":{"line":331,"type":"if","locations":[{"start":{"line":331,"column":10},"end":{"line":331,"column":10}},{"start":{"line":331,"column":10},"end":{"line":331,"column":10}}]},"37":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":15},"end":{"line":359,"column":15}},{"start":{"line":359,"column":15},"end":{"line":359,"column":15}}]},"38":{"line":363,"type":"if","locations":[{"start":{"line":363,"column":20},"end":{"line":363,"column":20}},{"start":{"line":363,"column":20},"end":{"line":363,"column":20}}]},"39":{"line":368,"type":"if","locations":[{"start":{"line":368,"column":25},"end":{"line":368,"column":25}},{"start":{"line":368,"column":25},"end":{"line":368,"column":25}}]},"40":{"line":373,"type":"if","locations":[{"start":{"line":373,"column":30},"end":{"line":373,"column":30}},{"start":{"line":373,"column":30},"end":{"line":373,"column":30}}]},"41":{"line":412,"type":"if","locations":[{"start":{"line":412,"column":15},"end":{"line":412,"column":15}},{"start":{"line":412,"column":15},"end":{"line":412,"column":15}}]},"42":{"line":417,"type":"if","locations":[{"start":{"line":417,"column":20},"end":{"line":417,"column":20}},{"start":{"line":417,"column":20},"end":{"line":417,"column":20}}]},"43":{"line":425,"type":"if","locations":[{"start":{"line":425,"column":20},"end":{"line":425,"column":20}},{"start":{"line":425,"column":20},"end":{"line":425,"column":20}}]},"44":{"line":449,"type":"if","locations":[{"start":{"line":449,"column":15},"end":{"line":449,"column":15}},{"start":{"line":449,"column":15},"end":{"line":449,"column":15}}]},"45":{"line":459,"type":"if","locations":[{"start":{"line":459,"column":20},"end":{"line":459,"column":20}},{"start":{"line":459,"column":20},"end":{"line":459,"column":20}}]},"46":{"line":467,"type":"if","locations":[{"start":{"line":467,"column":20},"end":{"line":467,"column":20}},{"start":{"line":467,"column":20},"end":{"line":467,"column":20}}]}}};
}
__cov_7pd4sYiqj$Y7VK2gxdjsFA = __cov_7pd4sYiqj$Y7VK2gxdjsFA['app/controllers/pages/user/users-controller.js'];
__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['1']++;var stripeActions=require('../../../models/plugins/actions-stripe'),utils=require('../../../utils'),_console=require('../../../debug/console'),q=require('Q'),messages=require('../../../messages/messages'),secrets=require('../../../config/secrets').stripeOptions,_=require('underscore'),Stripe=require('stripe'),Subscription=require('../../../models/subscription'),Activity=require('../../../models/activity'),Email=require('../../../models/email'),Scan=require('../../../models/scan'),Update=require('../../../models/update'),PasswordResetToken=require('../../../models/passwordResetToken'),Link=require('../../../models/link'),Alert=require('../../../models/alert'),Capture=require('../../../models/capture'),Request=require('../../../models/request'),User=require('../../../models/user'),stripeActions=require('../../../models/plugins/actions-stripe'),sh=require('shorthash'),createToken=require('../../../middleware/passport-create-token'),subscriptionController=require('../../subscriptions/subscription-controller');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['2']++;var deleteAllUserData=require('./admin/delete-controller').deleteAllUserData,deleteEverything=require('./admin/delete-controller').deleteEverything,deleteAll=require('./admin/delete-controller').deleteAll,getAll=require('./admin/delete-controller').getAll,deleteAccount=require('./admin/delete-controller').deleteAccount,_deleteAccount=require('./admin/delete-controller')._deleteAccount;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['3']++;module.exports.deleteAllUserData=deleteAllUserData;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['4']++;module.exports.deleteEverything=deleteEverything;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['5']++;module.exports.deleteAll=deleteAll;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['6']++;module.exports.getAll=getAll;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['7']++;module.exports.deleteAccount=deleteAccount;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['8']++;module.exports._deleteAccount=_deleteAccount;function getProfile(req,res){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['1']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['10']++;var form={},error=null,formFlash=req.flash('form'),errorFlash=req.flash('error');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['11']++;if(formFlash.length){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['1'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['12']++;form.email=formFlash[0].email;}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['1'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['13']++;if(errorFlash.length){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['2'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['14']++;error=errorFlash[0];}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['2'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['15']++;res.render(req.render,{user:req.user,form:form,error:error});};function createUser(req,customer){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['2']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['17']++;var user={timezone:req.body.timezone,name:req.body.name?(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['3'][0]++,req.body.name):(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['3'][1]++,null),location:req.body.location?(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['4'][0]++,req.body.location):(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['4'][1]++,null),website:req.body.website?(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['5'][0]++,req.body.website):(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['5'][1]++,null),email:req.body.email,customerId:customer?(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['6'][0]++,customer):(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['6'][1]++,null),uid:sh.unique(req.body.email),role:req.parentOid?(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['7'][0]++,'sub_account'):(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['7'][1]++,'org_admin'),oid:req.parentOid?(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['8'][0]++,req.parentOid):(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['8'][1]++,sh.unique(req.body.email+'_org')),password:req.hash};__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['18']++;if(req.lead===true){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['9'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['19']++;user.password='unset';__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['20']++;user.role='lead';}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['9'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['21']++;return new User(user);}function _formatUserInput(_user,input){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['3']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['23']++;console.log('_formatUserInput',input);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['24']++;var keys=['name','gender','location','website','timezone'];__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['25']++;_.each(keys,function(key){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['4']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['26']++;if(typeof input[key]!=='undefined'){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['10'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['27']++;_user[key]=input[key];}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['10'][1]++;}});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['28']++;return _user;}function _finalizeProfileUpdate(err,req,res,next){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['5']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['30']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['11'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['31']++;return next(err);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['11'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['32']++;req.flash('success',{msg:messages['flash-profile-updated']});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['33']++;res.redirect(req.redirect.success);}function _updateEmail(user,subscription,input){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['6']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['35']++;var promise=q.defer();__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['36']++;utils.findUserByUid(user.uid,(err,_user)=>{__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['37']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['12'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['38']++;return promise.reject(err);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['12'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['39']++;var oldEmail=_user.email;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['40']++;var emailIsNew=oldEmail!==input.email;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['41']++;_user.email=(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['13'][0]++,input.email)||(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['13'][1]++,'');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['42']++;_user=_formatUserInput(_user,input);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['43']++;utils.deleteEmail(oldEmail,err=>{__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['44']++;utils.saveEmail({uid:input.uid,oid:input.oid,customerId:_user.customerId,email:input.email},function(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['7']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['45']++;_user.save(err=>{__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['46']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['14'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['47']++;return promise.reject(err);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['14'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['48']++;if((__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['16'][0]++,_user.role==='org_admin')&&(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['16'][1]++,emailIsNew===true)){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['15'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['49']++;utils.updateActivityEmail(input.oid,input.email,err=>{__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['50']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['17'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['51']++;return promise.reject(err);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['17'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['52']++;subscriptionController.updateEmail(subscription.customerId,input.email,err=>{__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['53']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['18'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['54']++;return promise.reject(err);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['18'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['55']++;return promise.resolve();});});}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['15'][1]++;}});});});});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['56']++;return promise.promise;}function postProfile(req,res,next){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['8']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['58']++;_console.log('users-controller.js postProfile:',req.user,req.subscription,req.body);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['59']++;var user=req.user.identity;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['60']++;var subscription=req.user.subscription;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['61']++;if(req.body.email!==user.email){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['19'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['62']++;_console.log('users-controller.js changing email');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['63']++;utils.findEmail(req.body.email,(err,existingUser)=>{__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['64']++;_console.log('users-controller.js postProfile existingUser',existingUser);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['65']++;if(existingUser){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['20'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['66']++;req.flash('errors',{msg:messages['flash-email-in-use']});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['67']++;return res.redirect(req.redirect.failure);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['20'][1]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['68']++;_updateEmail(user,subscription,req.body).then(()=>{__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['69']++;return _finalizeProfileUpdate(null,req,res,next);}).catch(err=>{__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['70']++;next(err);});}});}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['19'][1]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['71']++;_console.log('users-controller.js postProfile not updating email findUserByUid');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['72']++;utils.findUserByUid(user.uid,(err,_user)=>{__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['73']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['21'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['74']++;return next(err);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['21'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['75']++;_formatUserInput(_user,req.body);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['76']++;_user.save(err=>{__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['77']++;return _finalizeProfileUpdate(err,req,res,next);});});}};function postBilling(req,res,next){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['9']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['79']++;var user=req.user.identity;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['80']++;var subscription=req.user.subscription;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['81']++;_console.log('postBilling-->body',req.body);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['82']++;var customerInfo=req.body;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['83']++;customerInfo.customerId=subscription.customerId;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['84']++;subscriptionController.setCard(customerInfo,user.oid,user.email,err=>{__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['85']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['22'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['86']++;_console.log('user-controller.js postBilling:setCard setCard: err:',err);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['87']++;if((__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['24'][0]++,err.code)&&(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['24'][1]++,err.code==='card_declined')){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['23'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['88']++;req.flash('errors',{msg:messages['flash-card_declined']});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['89']++;return res.redirect(req.redirect.failure);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['23'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['90']++;req.flash('errors',{msg:messages['flash-unexpected-error']});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['91']++;return res.redirect(req.redirect.failure);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['22'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['92']++;req.flash('success',{msg:messages['flash-billing-updated']});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['93']++;res.redirect(req.redirect.success);});};function postPlan(req,res,next){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['10']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['95']++;_console.log('postPlan -> req.body.plan',req.body.plan,'user',req.user.identity,'subscription',req.user.subscription,'req.body',req.body);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['96']++;var user=req.user.identity;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['97']++;var subscription=req.user.subscription;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['98']++;var plan=req.body.plan;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['99']++;if(plan){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['25'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['100']++;plan=plan.toLowerCase();}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['25'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['101']++;if(subscription.plan===plan){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['26'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['102']++;_console.log('postPlan -> subscription.plan',plan);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['103']++;req.flash('errors',{msg:messages['flash-same-as-current-plan']});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['104']++;return res.redirect(req.redirect.success);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['26'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['105']++;if((__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['28'][0]++,!subscription.last4)&&(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['28'][1]++,!req.body['card-num'])){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['27'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['106']++;_console.log('postPlan -> req.body["card-num"]',req.body['card-num']);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['107']++;req.flash('errors',{msg:messages['flash-add-card']});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['108']++;return res.redirect(req.redirect.failure);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['27'][1]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['109']++;if((__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['30'][0]++,!subscription.last4)&&(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['30'][1]++,req.body['card-num'])){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['29'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['110']++;_console.log('no card');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['111']++;var customerInfo=req.body;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['112']++;customerInfo.customerId=subscription.customerId;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['113']++;subscriptionController.setCard(customerInfo,user.oid,user.email,function(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['11']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['114']++;_console.log('err',err,plan,user.oid,user.email);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['115']++;setPlan(plan,user.oid,user.email,subscription,req,res);});}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['29'][1]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['116']++;_console.log('no card setPlan');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['117']++;setPlan(plan,user.oid,user.email,subscription,req,res);}}};function setPlan(plan,oid,email,subscription,req,res){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['12']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['119']++;subscriptionController.setPlan(plan,oid,email,subscription,function(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['13']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['120']++;_console.log('postPlan -> stripeActions.setPlan:err',err);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['121']++;var msg;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['122']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['31'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['123']++;if((__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['33'][0]++,err.code)&&(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['33'][1]++,err.code==='card_declined')){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['32'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['124']++;msg='Your card was declined. Please provide a valid card.';}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['32'][1]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['125']++;if((__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['35'][0]++,err)&&(__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['35'][1]++,err.message)){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['34'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['126']++;msg=err.message;}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['34'][1]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['127']++;msg='An unexpected error occurred.';}}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['128']++;req.flash('errors',{msg:msg});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['129']++;return res.redirect(req.redirect.failure);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['31'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['130']++;req.flash('success',{msg:'Plan has been updated.'});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['131']++;res.redirect(req.redirect.success);});}function createAccount(req,done){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['14']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['133']++;subscriptionController.createCustomer(req.body.email,function(err,customerId){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['15']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['134']++;_console.log('findOrCreateUser--> findUser found --> encrypt --> success--> subscriptionController.createCustomer --> response err:',err,'customerId',customerId);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['135']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['36'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['136']++;return done(err);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['36'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['137']++;var user=createUser(req,customerId);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['138']++;var activity=new Activity({oid:user.oid,apiToken:createToken(user.oid),email:user.email,customerId:customerId});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['139']++;var email=new Email({uid:user.uid,email:user.email,oid:user.oid,customerId:customerId});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['140']++;var subscription=new Subscription({customerId:customerId,oid:user.oid,subscriptionId:0,activeUntil:null});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['141']++;user.save(function(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['16']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['142']++;_console.log('findOrCreateUser--> findUser found --> encrypt --> success--> subscriptionController.createCustomer --> user save -->');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['143']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['37'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['144']++;return done(err,false,req.flash('error',message['flash-error-saving-user']));}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['37'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['145']++;email.save(function(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['17']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['146']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['38'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['147']++;return done(err,false,req.flash('error',messages['flash-error-saving-email']));}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['38'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['148']++;subscription.save(function(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['18']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['149']++;_console.log('findOrCreateUser--> findUser found --> encrypt --> success--> subscriptionController.createCustomer --> user save --> subscription saved -->',err);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['150']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['39'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['151']++;return done(err,false,req.flash('error',messages['flash-error-saving-subscription']));}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['39'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['152']++;activity.save(function(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['19']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['153']++;_console.log('findOrCreateUser--> findUser found --> encrypt --> success--> subscriptionController.createCustomer --> user save --> subscription saved --> activity saved -->');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['154']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['40'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['155']++;return done(err,false,req.flash('error',messages['flash-error-saving-activty']));}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['40'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['156']++;var time=14*24*3600000;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['157']++;req.session.cookie.maxAge=time;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['158']++;req.session.cookie.expires=new Date(Date.now()+time);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['159']++;req.session.touch();__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['160']++;var emailContent=utils.formatEmailContent('user-sign-up',user);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['161']++;utils.sendEmail(emailContent.title,emailContent.text,activity.email,emailContent.subject,function(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['20']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['162']++;return done(null,user,req.flash('success',messages['flash-thanks-for-signing-up']));});});});});});});}function createSubAccount(parentOid,req,done){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['21']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['164']++;_console.log('users-controller.js findOrCreateUser--> findUser found --> encrypt --> success--> create as child');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['165']++;utils.checkActivity(parentOid,function(err,res){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['22']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['166']++;req.parentOid=parentOid;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['167']++;var user=createUser(req,res.customerId);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['168']++;var email=new Email({uid:user.uid,email:user.email,oid:parentOid,customerId:res.customerId});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['169']++;email.save(function(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['23']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['170']++;_console.log('users-controller.js createSubAccount email.save',err);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['171']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['41'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['172']++;return done(err);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['41'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['173']++;user.save(function(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['24']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['174']++;_console.log('users-controller.js createSubAccount user.save',err);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['175']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['42'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['176']++;return done(err);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['42'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['177']++;utils.checkActivity(parentOid,function(err,res){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['25']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['178']++;var emailContent=utils.formatEmailContent('sub-account-user-sign-up',user);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['179']++;utils.sendEmail(emailContent.title,emailContent.text,res.email,emailContent.subject,function(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['26']++;});});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['180']++;var emailContent=utils.formatEmailContent('user-sign-up',user);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['181']++;if(typeof req.contactSubAccountUser==='true'){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['43'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['182']++;utils.sendEmail(emailContent.title,emailContent.text,user.email,emailContent.subject,function(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['27']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['183']++;return done(null,user,req.flash('success',messages['flash-thanks-for-signing-up']));});}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['43'][1]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['184']++;return done(null,user,req.flash('success',messages['flash-thanks-for-signing-up']));}});});});}function findOrCreateUser(req,email,password,parentOid,done){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['28']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['186']++;_console.log('users-controller.js findOrCreateUser-->');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['187']++;utils.findEmail(req.body.email,function(err,existingUser){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['29']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['188']++;_console.log('users-controller.js findOrCreateUser--> findUser response:',err,'existingUser',existingUser);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['189']++;if(existingUser){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['44'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['190']++;_console.log('users-controller.js findOrCreateUser--> findUser found');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['191']++;req.flash('form',{email:req.body.email});__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['192']++;return done(null,false,req.flash('error',messages['flash-email-in-use']));}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['44'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['193']++;_console.log('users-controller.js findOrCreateUser--> findUser found --> encrypt -->');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['194']++;utils.encrypt(req.body.password,function(err,hash){__cov_7pd4sYiqj$Y7VK2gxdjsFA.f['30']++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['195']++;_console.log('users-controller.js findOrCreateUser--> findUser found --> encrypt --> response err:',err,'hash',hash);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['196']++;if(err){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['45'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['197']++;_console.log('users-controller.js findOrCreateUser--> findUser found --> encrypt --> failed');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['198']++;return done(null,false,req.flash('error',messages['flash-error-hashing-password']));}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['45'][1]++;}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['199']++;_console.log('users-controller.js findOrCreateUser--> findUser found --> encrypt --> success');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['200']++;var uid=sh.unique(req.body.email);__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['201']++;req.uid=uid;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['202']++;req.hash=hash;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['203']++;if(parentOid){__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['46'][0]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['204']++;return createSubAccount(parentOid,req,done);}else{__cov_7pd4sYiqj$Y7VK2gxdjsFA.b['46'][1]++;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['205']++;_console.log('users-controller.js findOrCreateUser--> findUser found --> encrypt --> success--> subscriptionController.createCustomer -->');__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['206']++;return createAccount(req,done);}});});}__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['207']++;module.exports._updateEmail=_updateEmail;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['208']++;module.exports.postProfile=postProfile;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['209']++;module.exports.postBilling=postBilling;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['210']++;module.exports.postPlan=postPlan;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['211']++;module.exports.createSubAccount=createSubAccount;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['212']++;module.exports.setPlan=setPlan;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['213']++;module.exports.createAccount=createAccount;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['214']++;module.exports.findOrCreateUser=findOrCreateUser;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['215']++;module.exports.getProfile=getProfile;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['216']++;module.exports._finalizeProfileUpdate=_finalizeProfileUpdate;__cov_7pd4sYiqj$Y7VK2gxdjsFA.s['217']++;module.exports._formatUserInput=_formatUserInput;
